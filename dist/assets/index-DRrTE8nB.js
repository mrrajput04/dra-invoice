(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Rf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function yT(){if(uy)return zl;uy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var cy;function _T(){return cy||(cy=1,Rf.exports=yT()),Rf.exports}var tt=_T(),Cf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function vT(){if(hy)return Tt;hy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function J(D,K,nt){this.props=D,this.context=K,this.refs=it,this.updater=nt||q}J.prototype.isReactComponent={},J.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function St(){}St.prototype=J.prototype;function pt(D,K,nt){this.props=D,this.context=K,this.refs=it,this.updater=nt||q}var dt=pt.prototype=new St;dt.constructor=pt,Z(dt,J.prototype),dt.isPureReactComponent=!0;var Ut=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function O(D,K,nt,$,ut,wt){return nt=wt.ref,{$$typeof:a,type:D,key:K,ref:nt!==void 0?nt:null,props:wt}}function b(D,K){return O(D.type,K,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function N(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return K[nt]})}var x=/\/+/g;function U(D,K){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):K.toString(36)}function w(){}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,K,nt,$,ut){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(wt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case a:case e:yt=!0;break;case A:return yt=D._init,re(yt(D._payload),K,nt,$,ut)}}if(yt)return ut=ut(D),yt=$===""?"."+U(D,0):$,Ut(ut)?(nt="",yt!=null&&(nt=yt.replace(x,"$&/")+"/"),re(ut,K,nt,"",function(Ln){return Ln})):ut!=null&&(R(ut)&&(ut=b(ut,nt+(ut.key==null||D&&D.key===ut.key?"":(""+ut.key).replace(x,"$&/")+"/")+yt)),K.push(ut)),1;yt=0;var we=$===""?".":$+":";if(Ut(D))for(var Zt=0;Zt<D.length;Zt++)$=D[Zt],wt=we+U($,Zt),yt+=re($,K,nt,wt,ut);else if(Zt=V(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!($=D.next()).done;)$=$.value,wt=we+U($,Zt++),yt+=re($,K,nt,wt,ut);else if(wt==="object"){if(typeof D.then=="function")return re(xe(D),K,nt,$,ut);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,K,nt){if(D==null)return D;var $=[],ut=0;return re(D,$,"","",function(wt){return K.call(nt,wt,ut++)}),$}function et(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pt(){}return Tt.Children={map:H,forEach:function(D,K,nt){H(D,function(){K.apply(this,arguments)},nt)},count:function(D){var K=0;return H(D,function(){K++}),K},toArray:function(D){return H(D,function(K){return K})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Tt.Component=J,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=pt,Tt.StrictMode=s,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Et.H.useMemoCache(D)}},Tt.cache=function(D){return function(){return D.apply(null,arguments)}},Tt.cloneElement=function(D,K,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=Z({},D.props),ut=D.key,wt=void 0;if(K!=null)for(yt in K.ref!==void 0&&(wt=void 0),K.key!==void 0&&(ut=""+K.key),K)!zt.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||($[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)$.children=nt;else if(1<yt){for(var we=Array(yt),Zt=0;Zt<yt;Zt++)we[Zt]=arguments[Zt+2];$.children=we}return O(D.type,ut,void 0,void 0,wt,$)},Tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Tt.createElement=function(D,K,nt){var $,ut={},wt=null;if(K!=null)for($ in K.key!==void 0&&(wt=""+K.key),K)zt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ut[$]=K[$]);var yt=arguments.length-2;if(yt===1)ut.children=nt;else if(1<yt){for(var we=Array(yt),Zt=0;Zt<yt;Zt++)we[Zt]=arguments[Zt+2];ut.children=we}if(D&&D.defaultProps)for($ in yt=D.defaultProps,yt)ut[$]===void 0&&(ut[$]=yt[$]);return O(D,wt,void 0,void 0,null,ut)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(D){return{$$typeof:g,render:D}},Tt.isValidElement=R,Tt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Tt.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},Tt.startTransition=function(D){var K=Et.T,nt={};Et.T=nt;try{var $=D(),ut=Et.S;ut!==null&&ut(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Pt,ot)}catch(wt){ot(wt)}finally{Et.T=K}},Tt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Tt.use=function(D){return Et.H.use(D)},Tt.useActionState=function(D,K,nt){return Et.H.useActionState(D,K,nt)},Tt.useCallback=function(D,K){return Et.H.useCallback(D,K)},Tt.useContext=function(D){return Et.H.useContext(D)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(D,K){return Et.H.useDeferredValue(D,K)},Tt.useEffect=function(D,K,nt){var $=Et.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,K)},Tt.useId=function(){return Et.H.useId()},Tt.useImperativeHandle=function(D,K,nt){return Et.H.useImperativeHandle(D,K,nt)},Tt.useInsertionEffect=function(D,K){return Et.H.useInsertionEffect(D,K)},Tt.useLayoutEffect=function(D,K){return Et.H.useLayoutEffect(D,K)},Tt.useMemo=function(D,K){return Et.H.useMemo(D,K)},Tt.useOptimistic=function(D,K){return Et.H.useOptimistic(D,K)},Tt.useReducer=function(D,K,nt){return Et.H.useReducer(D,K,nt)},Tt.useRef=function(D){return Et.H.useRef(D)},Tt.useState=function(D){return Et.H.useState(D)},Tt.useSyncExternalStore=function(D,K,nt){return Et.H.useSyncExternalStore(D,K,nt)},Tt.useTransition=function(){return Et.H.useTransition()},Tt.version="19.1.0",Tt}var fy;function hd(){return fy||(fy=1,Cf.exports=vT()),Cf.exports}var mr=hd(),Df={exports:{}},Pl={},If={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function ET(){return dy||(dy=1,function(a){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Pt=ot-1>>>1,D=H[Pt];if(0<o(D,et))H[Pt]=et,H[ot]=D,ot=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Pt=0,D=H.length,K=D>>>1;Pt<K;){var nt=2*(Pt+1)-1,$=H[nt],ut=nt+1,wt=H[ut];if(0>o($,ot))ut<D&&0>o(wt,$)?(H[Pt]=wt,H[ut]=ot,Pt=ut):(H[Pt]=$,H[nt]=ot,Pt=nt);else if(ut<D&&0>o(wt,ot))H[Pt]=wt,H[ut]=ot,Pt=ut;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,C=null,V=3,q=!1,Z=!1,it=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(p,et);else break;et=i(v)}}function Et(H){if(it=!1,Ut(H),!Z)if(i(p)!==null)Z=!0,zt||(zt=!0,U());else{var et=i(v);et!==null&&re(Et,et.startTime-H)}}var zt=!1,O=-1,b=5,R=-1;function N(){return J?!0:!(a.unstable_now()-R<b)}function x(){if(J=!1,zt){var H=a.unstable_now();R=H;var et=!0;try{t:{Z=!1,it&&(it=!1,pt(O),O=-1),q=!0;var ot=V;try{e:{for(Ut(H),C=i(p);C!==null&&!(C.expirationTime>H&&N());){var Pt=C.callback;if(typeof Pt=="function"){C.callback=null,V=C.priorityLevel;var D=Pt(C.expirationTime<=H);if(H=a.unstable_now(),typeof D=="function"){C.callback=D,Ut(H),et=!0;break e}C===i(p)&&s(p),Ut(H)}else s(p);C=i(p)}if(C!==null)et=!0;else{var K=i(v);K!==null&&re(Et,K.startTime-H),et=!1}}break t}finally{C=null,V=ot,q=!1}et=void 0}}finally{et?U():zt=!1}}}var U;if(typeof dt=="function")U=function(){dt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,xe=w.port2;w.port1.onmessage=x,U=function(){xe.postMessage(null)}}else U=function(){St(x,0)};function re(H,et){O=St(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(H){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ot=V;V=et;try{return H()}finally{V=ot}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=V;V=H;try{return et()}finally{V=ot}},a.unstable_scheduleCallback=function(H,et,ot){var Pt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Pt+ot:Pt):ot=Pt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>Pt?(H.sortIndex=ot,e(v,H),i(p)===null&&H===i(v)&&(it?(pt(O),O=-1):it=!0,re(Et,ot-Pt))):(H.sortIndex=D,e(p,H),Z||q||(Z=!0,zt||(zt=!0,U()))),H},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(H){var et=V;return function(){var ot=V;V=et;try{return H.apply(this,arguments)}finally{V=ot}}}}(Vf)),Vf}var my;function TT(){return my||(my=1,If.exports=ET()),If.exports}var Nf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function AT(){if(gy)return Ge;gy=1;var a=hd();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:p,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(p,v,null,A)},Ge.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:q}):A==="script"&&s.d.X(p,{crossOrigin:C,integrity:V,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},Ge.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,v){return p(v)},Ge.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var py;function bT(){if(py)return Nf.exports;py=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=AT(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function ST(){if(yy)return Pl;yy=1;var a=TT(),e=hd(),i=bT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,l=f;break}if(E===l){_=!0,l=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,l=c;break}if(E===l){_=!0,l=f,r=c;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case Et:return"Suspense";case zt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case pt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Pt=[],D=-1;function K(t){return{current:t}}function nt(t){0>D||(t.current=Pt[D],Pt[D]=null,D--)}function $(t,n){D++,Pt[D]=t.current,t.current=n}var ut=K(null),wt=K(null),yt=K(null),we=K(null);function Zt(t,n){switch($(yt,n),$(wt,t),$(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=zp(n),t=Pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),$(ut,t)}function Ln(){nt(ut),nt(wt),nt(yt)}function Pi(t){t.memoizedState!==null&&$(we,t);var n=ut.current,r=Pp(n,t.type);n!==r&&($(wt,t),$(ut,r))}function li(t){wt.current===t&&(nt(ut),nt(wt)),we.current===t&&(nt(we),Ol._currentValue=ot)}var Dr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Is=a.unstable_shouldYield,ho=a.unstable_requestPaint,dn=a.unstable_now,wc=a.unstable_getCurrentPriorityLevel,Vs=a.unstable_ImmediatePriority,ba=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,Rc=a.unstable_LowPriority,Sa=a.unstable_IdlePriority,Ns=a.log,fo=a.unstable_setDisableYieldValue,ae=null,qt=null;function rn(t){if(typeof Ns=="function"&&fo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ae,t)}catch{}}var qe=Math.clz32?Math.clz32:Or,mo=Math.log,Cc=Math.LN2;function Or(t){return t>>>=0,t===0?32:31-(mo(t)/Cc|0)|0}var xr=256,Mr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(_&=E,_!==0?c=In(_):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):_!==0?c=In(_):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ur(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Ms(){var t=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,P=t.hiddenUpdates;for(r=_&~r;0<r;){var G=31-qe(r),Q=1<<G;E[G]=0,S[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}r&=~Q}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ls(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:iy(t.type))}function go(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,fe="__reactProps$"+Wt,mn="__reactContainer$"+Wt,zs="__reactEvents$"+Wt,Dc="__reactListeners$"+Wt,ji="__reactHandles$"+Wt,po="__reactResources$"+Wt,Lr="__reactMarker$"+Wt;function qi(t){delete t[_e],delete t[fe],delete t[zs],delete t[Dc],delete t[ji]}function ci(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=qp(t);t!==null;){if(r=t[_e])return r;t=qp(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[_e]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[po];return n||(n=t[po]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Lr]=!0}var Ps=new Set,Ca={};function Vn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Ca[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},zr={};function vo(t){return Dr.call(zr,t)?!0:Dr.call(_o,t)?!1:yo.test(t)?zr[t]=!0:(_o[t]=!0,!1)}function Hi(t,n,r){if(vo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Pr,Eo;function fi(t){if(Pr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",Eo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+t+Eo}var Da=!1;function Ia(t,n){if(!t||Da)return"";Da=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){k=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var S=_.split(`
`),P=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===P.length)for(l=S.length-1,c=P.length-1;1<=l&&0<=c&&S[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==P[c]){var G=`
`+S[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Da=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function ks(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ia(t.type,!1);case 11:return Ia(t.type.render,!1);case 1:return Ia(t.type,!0);case 31:return fi("Activity");default:return""}}function Va(t){try{var n="";do n+=ks(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ic(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Na(t){t._valueTracker||(t._valueTracker=Ic(t))}function js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vc=/[\n"\\]/g;function de(t){return t.replace(Vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,_,Xe(n)):r!=null?Gi(t,_,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Br(t,n,r,l,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Gi(t,n,r){n==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function jr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&To(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&To(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Oc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Gs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&js(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var jn=!1;function Ao(t,n,r){if(jn)return t(n,r);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(gi!==null||pi!==null)&&(gu(),gi&&(n=gi,t=pi,pi=gi=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Nn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{yn=!1}var qn=null,Fi=null,yi=null;function Fs(){if(yi)return yi;var t,n=Fi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Qs(){return!1}function Re(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Re(Bt),Fr=A({},Bt,{view:0,detail:0}),bo=Re(Fr),Ma,Ua,Fn,Qr=A({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ma=t.screenX-Fn.screenX,Ua=t.screenY-Fn.screenY):Ua=Ma=0,Fn=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),_n=Re(Qr),So=A({},Qr,{dataTransfer:0}),xc=Re(So),Yr=A({},Fr,{relatedTarget:0}),La=Re(Yr),Ys=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Re(Ys),wo=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=Re(wo),Mc=A({},Bt,{data:0}),Ks=Re(Mc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Co[t])?!!n[t]:!1}function Xr(){return Xs}var Do=A({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ro[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=Re(Do),Io=A({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Re(Io),_i=A({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Vo=Re(_i),No=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=Re(No),xo=A({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Re(xo),Ze=A({},Bt,{newState:0,oldState:0}),Mo=Re(Ze),Uo=[9,13,27,32],Qn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,y=Nn&&(!Qn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Uo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(Vt)return t==="compositionend"||!Qn&&j(t,n)?(t=Fs(),yi=Fi=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Tu(n,"onChange"),0<n.length&&(r=new xa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Yn=null;function $s(t){Op(t,0)}function Lo(t){var n=kn(t);if(js(n))return t}function Wd(t,n){if(t==="change")return n}var tm=!1;if(Nn){var Uc;if(Nn){var Lc="oninput"in document;if(!Lc){var em=document.createElement("div");em.setAttribute("oninput","return;"),Lc=typeof em.oninput=="function"}Uc=Lc}else Uc=!1;tm=Uc&&(!document.documentMode||9<document.documentMode)}function nm(){Ue&&(Ue.detachEvent("onpropertychange",im),Yn=Ue=null)}function im(t){if(t.propertyName==="value"&&Lo(Yn)){var n=[];vi(n,Yn,t,pn(t)),Ao($s,n)}}function Y0(t,n,r){t==="focusin"?(nm(),Ue=n,Yn=r,Ue.attachEvent("onpropertychange",im)):t==="focusout"&&nm()}function K0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(Yn)}function X0(t,n){if(t==="click")return Lo(n)}function Z0(t,n){if(t==="input"||t==="change")return Lo(n)}function $0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:$0;function Js(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Dr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function am(t,n){var r=rm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=rm(r)}}function sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=kr(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var J0=Nn&&"documentMode"in document&&11>=document.documentMode,ja=null,Pc=null,Ws=null,kc=!1;function om(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kc||ja==null||ja!==kr(l)||(l=ja,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=Tu(Pc,"onSelect"),0<l.length&&(n=new xa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ja)))}function Zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qa={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Bc={},um={};Nn&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function $r(t){if(Bc[t])return Bc[t];if(!qa[t])return t;var n=qa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in um)return Bc[t]=n[r];return t}var cm=$r("animationend"),hm=$r("animationiteration"),fm=$r("animationstart"),W0=$r("transitionrun"),tE=$r("transitionstart"),eE=$r("transitioncancel"),dm=$r("transitionend"),mm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function On(t,n){mm.set(t,n),Vn(n,[t])}var gm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=gm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Va(n)},gm.set(t,n),n)}return{value:t,source:n,stack:Va(n)}}var En=[],Ha=0,qc=0;function zo(){for(var t=Ha,n=qc=Ha=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&pm(r,c,f)}}function Po(t,n,r,l){En[Ha++]=t,En[Ha++]=n,En[Ha++]=r,En[Ha++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,r,l){return Po(t,n,r,l),ko(t)}function Ga(t,n){return Po(t,null,null,n),ko(t)}function pm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function ko(t){if(50<Sl)throw Sl=0,Xh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fa={};function nE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new nE(t,n,r,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ym(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")Gc(t)&&(_=1);else if(typeof t=="string")_=rT(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=ln(31,r,n,c),t.elementType=R,t.lanes=f,t;case Z:return Jr(r.children,c,f,n);case it:_=8,c|=24;break;case J:return t=ln(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case Et:return t=ln(13,r,n,c),t.elementType=Et,t.lanes=f,t;case zt:return t=ln(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case dt:_=10;break t;case pt:_=9;break t;case Ut:_=11;break t;case O:_=14;break t;case b:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function Fc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function Qc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qa=[],Ya=0,jo=null,qo=0,Tn=[],An=0,Wr=null,Ti=1,Ai="";function ta(t,n){Qa[Ya++]=qo,Qa[Ya++]=jo,jo=t,qo=n}function _m(t,n,r){Tn[An++]=Ti,Tn[An++]=Ai,Tn[An++]=Wr,Wr=t;var l=Ti;t=Ai;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Ti=1<<32-qe(n)+c|r<<c|l,Ai=f+t}else Ti=1<<f|r<<c|l,Ai=t}function Yc(t){t.return!==null&&(ta(t,1),_m(t,1,0))}function Kc(t){for(;t===jo;)jo=Qa[--Ya],Qa[Ya]=null,qo=Qa[--Ya],Qa[Ya]=null;for(;t===Wr;)Wr=Tn[--An],Tn[An]=null,Ai=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null}var $e=null,se=null,kt=!1,ea=null,Kn=!1,Xc=Error(s(519));function na(t){var n=Error(s(418,""));throw nl(vn(n,t)),Xc}function vm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)Dt(Rl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),jr(n,l.value,l.defaultValue,l.children),Na(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Lp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Au),n=!0):n=!1,n||na(t)}function Em(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$e=$e.return}}function tl(t){if(t!==$e)return!1;if(!kt)return Em(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ff(t.type,t.memoizedProps)),r=!r),r&&se&&na(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,lr(t.type)?(t=pf,pf=null,se=t):se=n):se=$e?Mn(t.stateNode.nextSibling):null;return!0}function el(){se=$e=null,kt=!1}function Tm(){var t=ea;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ea=null),t}function nl(t){ea===null?ea=[t]:ea.push(t)}var Zc=K(null),ia=null,bi=null;function Qi(t,n,r){$(Zc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Zc.current,nt(Zc)}function $c(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Jc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$c(f.return,r,t),l||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),$c(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function il(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=c.type;sn(c.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Jc(n,t,r,l),n.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Am(ia,t)}function Go(t,n){return ia===null&&ra(t),Am(t,n)}function Am(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(s(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var iE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},rE=a.unstable_scheduleCallback,aE=a.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new iE,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&rE(aE,function(){t.controller.abort()})}var al=null,th=0,Ka=0,Xa=null;function sE(t,n){if(al===null){var r=al=[];th=0,Ka=nf(),Xa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return th++,n.then(bm,bm),n}function bm(){if(--th===0&&al!==null){Xa!==null&&(Xa.status="fulfilled");var t=al;al=null,Ka=0,Xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function lE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Sm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&sE(t,n),Sm!==null&&Sm(t,n)};var aa=K(null);function eh(){var t=aa.current;return t!==null?t:$t.pooledCache}function Fo(t,n){n===null?$(aa,aa.current):$(aa,n.pool)}function wm(){var t=eh();return t===null?null:{parent:Te._currentValue,pool:t}}var sl=Error(s(460)),Rm=Error(s(474)),Qo=Error(s(542)),nh={then:function(){}};function Cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yo(){}function Dm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Yo,Yo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t;default:if(typeof n.status=="string")n.then(Yo,Yo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vm(t),t}throw ll=n,sl}}var ll=null;function Im(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Vm(t){if(t===sl||t===Qo)throw Error(s(483))}var Yi=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ko(t),pm(t,null,r),n}return Po(t,l,n,r),ko(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ls(t,r)}}function ah(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var sh=!1;function ul(){if(sh){var t=Xa;if(t!==null)throw t}}function cl(t,n,r,l){sh=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,P=S.next;S.next=null,_===null?f=P:_.next=P,_=S;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=S))}if(f!==null){var Q=c.baseState;_=0,G=P=S=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ot&k)===k:(l&k)===k){k!==0&&k===Ka&&(sh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ht=E;k=n;var Kt=r;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Q=gt.call(Kt,Q,k);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,k=typeof gt=="function"?gt.call(Kt,Q,k):gt,k==null)break t;Q=A({},Q,k);break t;case 2:Yi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,S=Q):G=G.next=B,_|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(S=Q),c.baseState=S,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ir|=_,t.lanes=_,t.memoizedState=Q}}function Nm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Om(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Nm(r[t],n)}var Za=K(null),Ko=K(0);function xm(t,n){t=Ni,$(Ko,t),$(Za,n),Ni=t|n.baseLanes}function lh(){$(Ko,Ni),$(Za,Za.current)}function oh(){Ni=Ko.current,nt(Za),nt(Ko)}var Zi=0,At=null,Qt=null,me=null,Xo=!1,$a=!1,sa=!1,Zo=0,hl=0,Ja=null,oE=0;function ue(){throw Error(s(321))}function uh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function ch(t,n,r,l,c,f){return Zi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?pg:yg,sa=!1,f=r(l,c),sa=!1,$a&&(f=Um(n,r,l,c)),Mm(t),f}function Mm(t){H.H=nu;var n=Qt!==null&&Qt.next!==null;if(Zi=0,me=Qt=At=null,Xo=!1,hl=0,Ja=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Ho(t)&&(De=!0))}function Um(t,n,r,l){At=t;var c=0;do{if($a&&(Ja=null),hl=0,$a=!1,25<=c)throw Error(s(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=gE,f=n(r,l)}while($a);return f}function uE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function hh(){var t=Zo!==0;return Zo=0,t}function fh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function dh(t){if(Xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xo=!1}Zi=0,me=Qt=At=null,$a=!1,hl=Zo=0,Ja=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?At.memoizedState=me=t:me=me.next=t}return me}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ja===null&&(Ja=[]),t=Dm(Ja,t,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?pg:yg),t}function $o(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===dt)return He(t)}throw Error(s(438,String(t)))}function gh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=mh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function Jo(t){var n=ge();return ph(n,Qt,t)}function ph(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=_=null,S=null,P=n,G=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ot&Q)===Q:(Zi&Q)===Q){var k=P.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Ka&&(G=!0);else if((Zi&k)===k){P=P.next,k===Ka&&(G=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},S===null?(E=S=Q,_=f):S=S.next=Q,At.lanes|=k,ir|=k;Q=P.action,sa&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else k={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},S===null?(E=S=k,_=f):S=S.next=k,At.lanes|=Q,ir|=Q;P=P.next}while(P!==null&&P!==n);if(S===null?_=f:S.next=E,!sn(f,t.memoizedState)&&(De=!0,G&&(r=Xa,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yh(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);sn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Lm(t,n,r){var l=At,c=ge(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!sn((Qt||c).memoizedState,r);_&&(c.memoizedState=r,De=!0),c=c.queue;var E=km.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Wa(9,Wo(),Pm.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Zi&124)!==0||zm(l,n,r)}return r}function zm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=mh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Pm(t,n,r,l){n.value=r,n.getSnapshot=l,Bm(n)&&jm(t)}function km(t,n,r){return r(function(){Bm(n)&&jm(t)})}function Bm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function jm(t){var n=Ga(t,2);n!==null&&fn(n,t,2)}function _h(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),sa){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function qm(t,n,r,l){return t.baseState=r,ph(t,Qt,typeof l=="function"?l:wi)}function cE(t,n,r,l,c){if(eu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Hm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Hm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,_={};H.T=_;try{var E=r(c,l),S=H.S;S!==null&&S(_,E),Gm(t,n,E)}catch(P){vh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Gm(t,n,f)}catch(P){vh(t,n,P)}}function Gm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Fm(t,n,l)},function(l){return vh(t,n,l)}):Fm(t,n,r)}function Fm(t,n,r){n.status="fulfilled",n.value=r,Qm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Hm(t,r)))}function vh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Qm(n),n=n.next;while(n!==l)}t.action=null}function Qm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ym(t,n){return n}function Km(t,n){if(kt){var r=$t.formState;if(r!==null){t:{var l=At;if(kt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:n},r.queue=l,r=dg.bind(null,At,l),l.dispatch=r,l=_h(!1),f=Sh.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=cE.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Xm(t){var n=ge();return Zm(n,Qt,t)}function Zm(t,n,r){if(n=ph(t,n,Ym)[0],t=Jo(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(_){throw _===sl?Qo:_}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Wa(9,Wo(),hE.bind(null,c,r),null)),[l,f,t]}function hE(t,n){t.action=n}function $m(t){var n=ge(),r=Qt;if(r!==null)return Zm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Wa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=mh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Wo(){return{destroy:void 0,resource:void 0}}function Jm(){return ge().memoizedState}function tu(t,n,r,l){var c=Je();l=l===void 0?null:l,At.flags|=t,c.memoizedState=Wa(1|n,Wo(),r,l)}function dl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&uh(l,Qt.memoizedState.deps)?c.memoizedState=Wa(n,f,r,l):(At.flags|=t,c.memoizedState=Wa(1|n,f,r,l))}function Wm(t,n){tu(8390656,8,t,n)}function tg(t,n){dl(2048,8,t,n)}function eg(t,n){return dl(4,2,t,n)}function ng(t,n){return dl(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function rg(t,n,r){r=r!=null?r.concat([t]):null,dl(4,4,ig.bind(null,n,t),r)}function Eh(){}function ag(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&uh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function sg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&uh(n,l[1]))return l[0];if(l=t(),sa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function Th(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=up(),At.lanes|=t,ir|=t,r)}function lg(t,n,r,l){return sn(r,n)?r:Za.current!==null?(t=Th(t,r,l),sn(t,n)||(De=!0),t):(Zi&42)===0?(De=!0,t.memoizedState=r):(t=up(),At.lanes|=t,ir|=t,n)}function og(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var _=H.T,E={};H.T=E,Sh(t,!1,n,r);try{var S=c(),P=H.S;if(P!==null&&P(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var G=lE(S,l);ml(t,n,G,hn(t))}else ml(t,n,l,hn(t))}catch(Q){ml(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{et.p=f,H.T=_}}function fE(){}function Ah(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=ug(t).queue;og(t,c,n,ot,r===null?fE:function(){return cg(t),r(l)})}function ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=ug(t).next.queue;ml(t,n,{},hn())}function bh(){return He(Ol)}function hg(){return ge().memoizedState}function fg(){return ge().memoizedState}function dE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Ki(r);var l=Xi(n,t,r);l!==null&&(fn(l,n,r),ol(l,n,r)),n={cache:Wc()},t.payload=n;return}n=n.return}}function mE(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},eu(t)?mg(n,r):(r=Hc(t,n,r,l),r!==null&&(fn(r,t,l),gg(r,n,l)))}function dg(t,n,r){var l=hn();ml(t,n,r,l)}function ml(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(eu(t))mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,_))return Po(t,n,c,0),$t===null&&zo(),!1}catch{}finally{}if(r=Hc(t,n,c,l),r!==null)return fn(r,t,l),gg(r,n,l),!0}return!1}function Sh(t,n,r,l){if(l={lane:2,revertLane:nf(),action:l,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(s(479))}else n=Hc(t,r,l,2),n!==null&&fn(n,t,2)}function eu(t){var n=t.alternate;return t===At||n!==null&&n===At}function mg(t,n){$a=Xo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function gg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ls(t,r)}}var nu={readContext:He,use:$o,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},pg={readContext:He,use:$o,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Wm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tu(4194308,4,ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tu(4194308,4,t,n)},useInsertionEffect:function(t,n){tu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(sa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(sa){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=mE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=_h(t);var n=t.queue,r=dg.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Eh,useDeferredValue:function(t,n){var r=Je();return Th(r,t,n)},useTransition:function(){var t=_h(!1);return t=og.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Je();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Ot&124)!==0||zm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Wm(km.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,Wo(),Pm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=$t.identifierPrefix;if(kt){var r=Ai,l=Ti;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Zo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=oE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:Km,useActionState:Km,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:gh,useCacheRefresh:function(){return Je().memoizedState=dE.bind(null,At)}},yg={readContext:He,use:$o,useCallback:ag,useContext:He,useEffect:tg,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:Jo,useRef:Jm,useState:function(){return Jo(wi)},useDebugValue:Eh,useDeferredValue:function(t,n){var r=ge();return lg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Jo(wi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Lm,useId:hg,useHostTransitionStatus:bh,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var r=ge();return qm(r,Qt,t,n)},useMemoCache:gh,useCacheRefresh:fg},gE={readContext:He,use:$o,useCallback:ag,useContext:He,useEffect:tg,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:yh,useRef:Jm,useState:function(){return yh(wi)},useDebugValue:Eh,useDeferredValue:function(t,n){var r=ge();return Qt===null?Th(r,t,n):lg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=yh(wi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Lm,useId:hg,useHostTransitionStatus:bh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var r=ge();return Qt!==null?qm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gh,useCacheRefresh:fg},ts=null,gl=0;function iu(t){var n=gl;return gl+=1,ts===null&&(ts=[]),Dm(ts,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){var n=t._init;return n(t._payload)}function vg(t){function n(M,I){if(t){var z=M.deletions;z===null?(M.deletions=[I],M.flags|=16):z.push(I)}}function r(M,I){if(!t)return null;for(;I!==null;)n(M,I),I=I.sibling;return null}function l(M){for(var I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function c(M,I){return M=Ei(M,I),M.index=0,M.sibling=null,M}function f(M,I,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<I?(M.flags|=67108866,I):z):(M.flags|=67108866,I)):(M.flags|=1048576,I)}function _(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,I,z,F){return I===null||I.tag!==6?(I=Fc(z,M.mode,F),I.return=M,I):(I=c(I,z),I.return=M,I)}function S(M,I,z,F){var at=z.type;return at===Z?G(M,I,z.props.children,F,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&_g(at)===I.type)?(I=c(I,z.props),pl(I,z),I.return=M,I):(I=Bo(z.type,z.key,z.props,null,M.mode,F),pl(I,z),I.return=M,I)}function P(M,I,z,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Qc(z,M.mode,F),I.return=M,I):(I=c(I,z.children||[]),I.return=M,I)}function G(M,I,z,F,at){return I===null||I.tag!==7?(I=Jr(z,M.mode,F,at),I.return=M,I):(I=c(I,z),I.return=M,I)}function Q(M,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Fc(""+I,M.mode,z),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case V:return z=Bo(I.type,I.key,I.props,null,M.mode,z),pl(z,I),z.return=M,z;case q:return I=Qc(I,M.mode,z),I.return=M,I;case b:var F=I._init;return I=F(I._payload),Q(M,I,z)}if(re(I)||U(I))return I=Jr(I,M.mode,z,null),I.return=M,I;if(typeof I.then=="function")return Q(M,iu(I),z);if(I.$$typeof===dt)return Q(M,Go(M,I),z);ru(M,I)}return null}function k(M,I,z,F){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,I,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===at?S(M,I,z,F):null;case q:return z.key===at?P(M,I,z,F):null;case b:return at=z._init,z=at(z._payload),k(M,I,z,F)}if(re(z)||U(z))return at!==null?null:G(M,I,z,F,null);if(typeof z.then=="function")return k(M,I,iu(z),F);if(z.$$typeof===dt)return k(M,I,Go(M,z),F);ru(M,z)}return null}function B(M,I,z,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(z)||null,E(I,M,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return M=M.get(F.key===null?z:F.key)||null,S(I,M,F,at);case q:return M=M.get(F.key===null?z:F.key)||null,P(I,M,F,at);case b:var Rt=F._init;return F=Rt(F._payload),B(M,I,z,F,at)}if(re(F)||U(F))return M=M.get(z)||null,G(I,M,F,at,null);if(typeof F.then=="function")return B(M,I,z,iu(F),at);if(F.$$typeof===dt)return B(M,I,z,Go(I,F),at);ru(I,F)}return null}function gt(M,I,z,F){for(var at=null,Rt=null,st=I,ft=I=0,Ve=null;st!==null&&ft<z.length;ft++){st.index>ft?(Ve=st,st=null):Ve=st.sibling;var Lt=k(M,st,z[ft],F);if(Lt===null){st===null&&(st=Ve);break}t&&st&&Lt.alternate===null&&n(M,st),I=f(Lt,I,ft),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt,st=Ve}if(ft===z.length)return r(M,st),kt&&ta(M,ft),at;if(st===null){for(;ft<z.length;ft++)st=Q(M,z[ft],F),st!==null&&(I=f(st,I,ft),Rt===null?at=st:Rt.sibling=st,Rt=st);return kt&&ta(M,ft),at}for(st=l(st);ft<z.length;ft++)Ve=B(st,M,ft,z[ft],F),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ft:Ve.key),I=f(Ve,I,ft),Rt===null?at=Ve:Rt.sibling=Ve,Rt=Ve);return t&&st.forEach(function(fr){return n(M,fr)}),kt&&ta(M,ft),at}function ht(M,I,z,F){if(z==null)throw Error(s(151));for(var at=null,Rt=null,st=I,ft=I=0,Ve=null,Lt=z.next();st!==null&&!Lt.done;ft++,Lt=z.next()){st.index>ft?(Ve=st,st=null):Ve=st.sibling;var fr=k(M,st,Lt.value,F);if(fr===null){st===null&&(st=Ve);break}t&&st&&fr.alternate===null&&n(M,st),I=f(fr,I,ft),Rt===null?at=fr:Rt.sibling=fr,Rt=fr,st=Ve}if(Lt.done)return r(M,st),kt&&ta(M,ft),at;if(st===null){for(;!Lt.done;ft++,Lt=z.next())Lt=Q(M,Lt.value,F),Lt!==null&&(I=f(Lt,I,ft),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt);return kt&&ta(M,ft),at}for(st=l(st);!Lt.done;ft++,Lt=z.next())Lt=B(st,M,ft,Lt.value,F),Lt!==null&&(t&&Lt.alternate!==null&&st.delete(Lt.key===null?ft:Lt.key),I=f(Lt,I,ft),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt);return t&&st.forEach(function(pT){return n(M,pT)}),kt&&ta(M,ft),at}function Kt(M,I,z,F){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===Z){if(I.tag===7){r(M,I.sibling),F=c(I,z.props.children),F.return=M,M=F;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&_g(at)===I.type){r(M,I.sibling),F=c(I,z.props),pl(F,z),F.return=M,M=F;break t}r(M,I);break}else n(M,I);I=I.sibling}z.type===Z?(F=Jr(z.props.children,M.mode,F,z.key),F.return=M,M=F):(F=Bo(z.type,z.key,z.props,null,M.mode,F),pl(F,z),F.return=M,M=F)}return _(M);case q:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(M,I.sibling),F=c(I,z.children||[]),F.return=M,M=F;break t}else{r(M,I);break}else n(M,I);I=I.sibling}F=Qc(z,M.mode,F),F.return=M,M=F}return _(M);case b:return at=z._init,z=at(z._payload),Kt(M,I,z,F)}if(re(z))return gt(M,I,z,F);if(U(z)){if(at=U(z),typeof at!="function")throw Error(s(150));return z=at.call(z),ht(M,I,z,F)}if(typeof z.then=="function")return Kt(M,I,iu(z),F);if(z.$$typeof===dt)return Kt(M,I,Go(M,z),F);ru(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(M,I.sibling),F=c(I,z),F.return=M,M=F):(r(M,I),F=Fc(z,M.mode,F),F.return=M,M=F),_(M)):r(M,I)}return function(M,I,z,F){try{gl=0;var at=Kt(M,I,z,F);return ts=null,at}catch(st){if(st===sl||st===Qo)throw st;var Rt=ln(29,st,null,M.mode);return Rt.lanes=F,Rt.return=M,Rt}finally{}}}var es=vg(!0),Eg=vg(!1),bn=K(null),Xn=null;function $i(t){var n=t.alternate;$(Ae,Ae.current&1),$(bn,t),Xn===null&&(n===null||Za.current!==null||n.memoizedState!==null)&&(Xn=t)}function Tg(t){if(t.tag===22){if($(Ae,Ae.current),$(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Ji()}function Ji(){$(Ae,Ae.current),$(bn,bn.current)}function Ri(t){nt(bn),Xn===t&&(Xn=null),nt(Ae)}var Ae=K(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||gf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(fn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(fn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(fn(n,t,r),ol(n,t,r))}};function Ag(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Js(r,l)||!Js(c,f):!0}function bg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function la(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sg(t){su(t)}function wg(t){console.error(t)}function Rg(t){su(t)}function lu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){lu(t,n)},r}function Dg(t){return t=Ki(t),t.tag=3,t}function Ig(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Cg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Cg(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function pE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&il(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?$h():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===nh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Wh(t,l,c)),!1;case 22:return r.flags|=65536,l===nh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Wh(t,l,c)),!1}throw Error(s(435,r.tag))}return Wh(t,l,c),$h(),!1}if(kt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Xc&&(t=Error(s(422),{cause:l}),nl(vn(t,r)))):(l!==Xc&&(n=Error(s(423),{cause:l}),nl(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Ch(t.stateNode,l,c),ah(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),bl===null?bl=[f]:bl.push(f),le!==4&&(le=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Ch(r.stateNode,l,t),ah(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Dg(c),Ig(c,t,r,l),ah(r,c),!1}r=r.return}while(r!==null);return!1}var Vg=Error(s(461)),De=!1;function Le(t,n,r,l){n.child=t===null?Eg(n,null,r,l):es(n,t.child,r,l)}function Ng(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ra(n),l=ch(t,n,r,_,f,c),E=hh(),t!==null&&!De?(fh(t,n,c),Ci(t,n,c)):(kt&&E&&Yc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Og(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,xg(t,n,f,l,c)):(t=Bo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Js,r(_,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Dh(t,n,r,l,c)}function Mg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ug(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?xm(n,f):lh(),Tg(n);else return n.lanes=n.childLanes=536870912,Ug(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Fo(n,f.cachePool),xm(n,f),Ji(),n.memoizedState=null):(t!==null&&Fo(n,null),lh(),Ji());return Le(t,n,c,r),n.child}function Ug(t,n,r,l){var c=eh();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Fo(n,null),lh(),Tg(n),t!==null&&il(t,n,l,!0),null}function ou(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Dh(t,n,r,l,c){return ra(n),r=ch(t,n,r,l,void 0,c),l=hh(),t!==null&&!De?(fh(t,n,c),Ci(t,n,c)):(kt&&l&&Yc(n),n.flags|=1,Le(t,n,r,c),n.child)}function Lg(t,n,r,l,c,f){return ra(n),n.updateQueue=null,r=Um(n,l,r,c),Mm(t),l=hh(),t!==null&&!De?(fh(t,n,f),Ci(t,n,f)):(kt&&l&&Yc(n),n.flags|=1,Le(t,n,r,f),n.child)}function zg(t,n,r,l,c){if(ra(n),n.stateNode===null){var f=Fa,_=r.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ih(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?He(_):Fa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(wh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Rh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=la(r,E);f.props=S;var P=f.context,G=r.contextType;_=Fa,typeof G=="object"&&G!==null&&(_=He(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==_)&&bg(n,f,l,_),Yi=!1;var k=n.memoizedState;f.state=k,cl(n,l,f,c),ul(),P=n.memoizedState,E||k!==P||Yi?(typeof Q=="function"&&(wh(n,r,Q,l),P=n.memoizedState),(S=Yi||Ag(n,r,S,l,k,P,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=_,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),_=n.memoizedProps,G=la(r,_),f.props=G,Q=n.pendingProps,k=f.context,P=r.contextType,S=Fa,typeof P=="object"&&P!==null&&(S=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||k!==S)&&bg(n,f,l,S),Yi=!1,k=n.memoizedState,f.state=k,cl(n,l,f,c),ul();var B=n.memoizedState;_!==Q||k!==B||Yi||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof E=="function"&&(wh(n,r,E,l),B=n.memoizedState),(G=Yi||Ag(n,r,G,l,k,B,S)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=S,l=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=es(n,t.child,null,c),n.child=es(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function Pg(t,n,r,l){return el(),n.flags|=256,Le(t,n,r,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:wm()}}function Nh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?$i(n):Ji(),kt){var E=se,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Mn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},S=ln(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,$e=n,se=null,S=!0):S=!1}S||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return gf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=Jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Vh(r),c.childLanes=Nh(t,_,r),n.memoizedState=Ih,l):($i(n),Oh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=xh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=uu({mode:"visible",children:l.children},E),c=Jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,es(n,t.child,null,r),l=n.child,l.memoizedState=Vh(r),l.childLanes=Nh(t,_,r),n.memoizedState=Ih,n=c);else if($i(n),gf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),n=xh(t,n,r)}else if(De||il(t,n,r,!1),_=(r&t.childLanes)!==0,De||_){if(_=$t,_!==null&&(l=r&-r,l=(l&42)!==0?1:ki(l),l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Ga(t,l),fn(_,t,l),Vg;E.data==="$?"||$h(),n=xh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,se=Mn(E.nextSibling),$e=n,kt=!0,ea=null,Kn=!1,t!==null&&(Tn[An++]=Ti,Tn[An++]=Ai,Tn[An++]=Wr,Ti=t.id,Ai=t.overflow,Wr=n),n=Oh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,S=t.child,P=S.sibling,l=Ei(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,P!==null?c=Ei(P,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Vh(r):(S=E.cachePool,S!==null?(P=Te._currentValue,S=S.parent!==P?{parent:P,pool:P}:S):S=wm(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=Nh(t,_,r),n.memoizedState=Ih,l):($i(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Oh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,r){return es(n,t.child,null,r),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,r)}function Mh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function jg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,r,n);else if(t.tag===19)Bg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&au(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Mh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Mh(n,!0,r,null,f);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(il(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function yE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Qi(n,Te,t.memoizedState.cache),el();break;case 27:case 5:Pi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?kg(t,n,r):($i(n),t=Ci(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(il(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return jg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Mg(t,n,r);case 24:Qi(n,Te,t.memoizedState.cache)}return Ci(t,n,r)}function qg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Uh(t,r)&&(n.flags&128)===0)return De=!1,yE(t,n,r);De=(t.flags&131072)!==0}else De=!1,kt&&(n.flags&1048576)!==0&&_m(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Gc(l)?(t=la(l,t),n.tag=1,n=zg(null,n,l,t,r)):(n.tag=0,n=Dh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=Ng(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=Og(null,n,l,t,r);break t}}throw n=xe(l)||l,Error(s(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=la(l,n.pendingProps),zg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),cl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,Qi(n,Te,l),l!==f.cache&&Jc(n,[Te],r,!0),ul(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),nl(c),n=Pg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),$e=n,kt=!0,ea=null,Kn=!0,r=Eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(el(),l===c){n=Ci(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return ou(t,n),t===null?(r=Qp(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=bu(yt.current).createElement(r),l[_e]=n,l[fe]=t,Pe(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Qp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&kt&&(l=n.stateNode=Hp(n.type,n.pendingProps,yt.current),$e=n,Kn=!0,c=se,lr(n.type)?(pf=c,se=Mn(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,r),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=se)&&(l=FE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$e=n,se=Mn(l.firstChild),Kn=!1,c=!0):c=!1),c||na(n)),Pi(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,ff(c,f)?l=null:_!==null&&ff(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=ch(t,n,uE,null,null,r),Ol._currentValue=c),ou(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=se)&&(r=QE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,$e=n,se=null,t=!0):t=!1),t||na(n)),null;case 13:return kg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=es(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ra(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Og(t,n,n.type,n.pendingProps,r);case 15:return xg(t,n,n.type,n.pendingProps,r);case 19:return jg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=uu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Mg(t,n,r);case 24:return ra(n),l=He(Te),t===null?(c=eh(),c===null&&(c=$t,f=Wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ih(n),Qi(n,Te,c)):((t.lanes&r)!==0&&(rh(t,n),cl(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,Te,l)):(l=f.cache,Qi(n,Te,l),l!==c.cache&&Jc(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function Hg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$p(n)){if(n=bn.current,n!==null&&((Ot&4194048)===Ot?Xn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Xn))throw ll=nh,Rm;t.flags|=8192}}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,as|=n)}function yl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function _E(t,n,r){var l=n.pendingProps;switch(Kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ee(n),Hg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ee(n),Hg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ee(n),n.flags&=-16777217),null;case 27:li(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ut.current,tl(n)?vm(n):(t=Hp(c,l,r),n.stateNode=t,Di(n))}return ee(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ut.current,tl(n))vm(n);else{switch(c=bu(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Lp(t.nodeValue,r)),t||na(n)}else t=bu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Tm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),cu(n,n.updateQueue),ee(n),null;case 4:return Ln(),t===null&&lf(n.stateNode.containerInfo),ee(n),null;case 10:return Si(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)ym(r,t),r=r.sibling;return $(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>du&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*dn()-c.renderingStartTime>du&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Ae.current,$(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ri(n),oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&cu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function vE(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Ln(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),oh(),t!==null&&nt(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function Gg(t,n){switch(Kc(n),n.tag){case 3:Si(Te),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:Ri(n);break;case 19:nt(Ae);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),oh(),t!==null&&nt(aa);break;case 24:Si(Te)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var S=r,P=E;try{P()}catch(G){Xt(c,S,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Om(n,r)}catch(l){Xt(t,t.return,l)}}}function Qg(t,n,r){r.props=la(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Yg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Lh(t,n,r){try{var l=t.stateNode;BE(l,t.type,r,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function Kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Au));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ph(t,n,r),t=t.sibling;t!==null;)Ph(t,n,r),t=t.sibling}function hu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(hu(t,n,r),t=t.sibling;t!==null;)hu(t,n,r),t=t.sibling}function Xg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[_e]=t,n[fe]=r}catch(f){Xt(t,t.return,f)}}var Ii=!1,ce=!1,kh=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function EE(t,n){if(t=t.containerInfo,cf=Iu,t=lm(t),zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,S=-1,P=0,G=0,Q=t,k=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=_+c),Q!==f||l!==0&&Q.nodeType!==3||(S=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===t)break e;if(k===r&&++P===c&&(E=_),k===f&&++G===l&&(S=_),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(hf={focusedElem:t,selectionRange:r},Iu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=la(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Xt(r,r.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)mf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function $g(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&_l(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Xt(r,r.return,_)}else{var c=la(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(r,r.return,_)}}l&64&&Fg(r),l&512&&vl(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Om(t,n)}catch(_){Xt(r,r.return,_)}}break;case 27:n===null&&l&4&&Xg(r);case 26:case 5:tr(t,r),n===null&&l&4&&Yg(r),l&512&&vl(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&tp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=IE.bind(null,r),YE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ii;var f=ce;Ii=l,(ce=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ii=c,ce=f}break;case 30:break;default:tr(t,r)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Vi(t,n,r){for(r=r.child;r!==null;)Wg(t,n,r),r=r.sibling}function Wg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Zn(r,n),Vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Zn(r,n);var l=te,c=We;lr(r.type)&&(te=r.stateNode,We=!1),Vi(t,n,r),Dl(r.stateNode),te=l,We=c;break;case 5:ce||Zn(r,n);case 6:if(l=te,c=We,te=null,Vi(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(We?(t=te,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ll(t)):jp(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Vi(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:ce||Wi(2,r,n),ce||Wi(4,r,n),Vi(t,n,r);break;case 1:ce||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Qg(r,n,l)),Vi(t,n,r);break;case 21:Vi(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Vi(t,n,r),ce=l;break;default:Vi(t,n,r)}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(r){Xt(n,n.return,r)}}function TE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Zg),n;default:throw Error(s(435,t.tag))}}function Bh(t,n){var r=TE(t);n.forEach(function(l){var c=VE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(s(160));Wg(f,_,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ep(n,t),n=n.sibling}var xn=null;function ep(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Wi(3,t,t.return),_l(3,t),Wi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ce||r===null||Zn(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(on(n,t),un(t),l&512&&(ce||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Lr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[_e]=t,oe(f),l=f;break t;case"link":var _=Xp("link","href",c).get(l+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Xp("meta","content",c).get(l+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,oe(f),l=f}t.stateNode=l}else Zp(c,t.type,t.stateNode);else t.stateNode=Kp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Zp(c,t.type,t.stateNode):Kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ce||r===null||Zn(r,r.return)),r!==null&&l&4&&Lh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ce||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(B){Xt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Xt(t,t.return,B)}}break;case 3:if(Ru=null,c=xn,xn=Su(n.containerInfo),on(n,t),xn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(B){Xt(t,t.return,B)}kh&&(kh=!1,np(t));break;case 4:l=xn,xn=Su(t.stateNode.containerInfo),on(n,t),un(t),xn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 22:c=t.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,P=Ii,G=ce;if(Ii=P||c,ce=G||S,on(n,t),ce=G,Ii=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||S||Ii||ce||oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){S=r=n;try{if(f=S.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=S.stateNode;var Q=S.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Xt(S,S.return,B)}}}else if(n.tag===6){if(r===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(B){Xt(S,S.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Bh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Kg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=zh(t);hu(t,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(gn(_,""),r.flags&=-33);var E=zh(t);hu(t,E,_);break;case 3:case 4:var S=r.stateNode.containerInfo,P=zh(t);Ph(t,P,S);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$g(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),oa(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qg(n,n.return,r),oa(n);break;case 27:Dl(n.stateNode);case 26:case 5:Zn(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),_l(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Nm(S[c],E)}catch(P){Xt(l,l.return,P)}}r&&_&64&&Fg(f),vl(f,f.return);break;case 27:Xg(f);case 26:case 5:er(c,f,r),r&&l===null&&_&4&&Yg(f),vl(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&_&4&&tp(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),vl(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function jh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function $n(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ip(t,n,r,l),n=n.sibling}function ip(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,r,l),c&2048&&_l(9,n);break;case 1:$n(t,n,r,l);break;case 3:$n(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){$n(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Xt(n,n.return,S)}}else $n(t,n,r,l);break;case 13:$n(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,r,l):El(t,n):f._visibility&2?$n(t,n,r,l):(f._visibility|=2,ns(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(_,n);break;case 24:$n(t,n,r,l),c&2048&&qh(n.alternate,n);break;default:$n(t,n,r,l)}}function ns(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,E=r,S=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:ns(f,_,E,S,c),_l(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ns(f,_,E,S,c):El(f,_):(G._visibility|=2,ns(f,_,E,S,c)),c&&P&2048&&jh(_.alternate,_);break;case 24:ns(f,_,E,S,c),c&&P&2048&&qh(_.alternate,_);break;default:ns(f,_,E,S,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:El(r,l),c&2048&&jh(l.alternate,l);break;case 24:El(r,l),c&2048&&qh(l.alternate,l);break;default:El(r,l)}n=n.sibling}}var Tl=8192;function is(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 26:is(t),t.flags&Tl&&t.memoizedState!==null&&sT(xn,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=xn;xn=Su(t.stateNode.containerInfo),is(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,is(t),Tl=n):is(t));break;default:is(t)}}function ap(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,lp(l,t)}ap(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fu(t)):Al(t);break;default:Al(t)}}function fu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,lp(l,t)}ap(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),fu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,fu(n));break;default:fu(n)}t=t.sibling}}function lp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Jg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var AE={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},bE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,Ot=0,Gt=0,cn=null,nr=!1,rs=!1,Hh=!1,Ni=0,le=0,ir=0,ua=0,Gh=0,Sn=0,as=0,bl=null,tn=null,Fh=!1,Qh=0,du=1/0,mu=null,rr=null,ze=0,ar=null,ss=null,ls=0,Yh=0,Kh=null,op=null,Sl=0,Xh=null;function hn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Ka;return t!==0?t:nf()}return Bi()}function up(){Sn===0&&(Sn=(Ot&536870912)===0||kt?xs():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Sn}function fn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(os(t,0),sr(t,Ot,Sn,!1)),ui(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ua|=r),le===4&&sr(t,Ot,Sn,!1)),Jn(t))}function cp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ur(t,n),c=l?RE(t,n):Jh(t,n,!0),f=l;do{if(c===0){rs&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!SE(r)){c=Jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=t;c=bl;var S=E.current.memoizedState.isDehydrated;if(S&&(os(E,_).flags|=256),_=Jh(E,_,!1),_!==2){if(Hh&&!S){E.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){os(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,Sn,!nr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Qh+300-dn(),10<c)){if(sr(l,n,Sn,!nr),wa(l,0,!0)!==0)break t;l.timeoutHandle=kp(hp.bind(null,l,r,tn,mu,Fh,n,Sn,ua,as,nr,f,2,-0,0),c);break t}hp(l,r,tn,mu,Fh,n,Sn,ua,as,nr,f,0,-0,0)}}break}while(!0);Jn(t)}function hp(t,n,r,l,c,f,_,E,S,P,G,Q,k,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:aT},rp(n),Q=lT(),Q!==null)){t.cancelPendingCommit=Q(_p.bind(null,t,n,f,r,l,c,_,E,S,G,1,k,B)),sr(t,f,_,!P);return}_p(t,n,f,r,l,c,_,E,S)}function SE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~Gh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&zn(t,r,n)}function gu(){return(Ht&6)===0?(wl(0),!1):!0}function Zh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,bi=ia=null,dh(t),ts=null,gl=0,t=Ct;for(;t!==null;)Gg(t.alternate,t),t=t.return;Ct=null}}function os(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,qE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Zh(),$t=t,Ct=r=Ei(t.current,null),Ot=n,Gt=0,cn=null,nr=!1,rs=Ur(t,n),Hh=!1,as=Sn=Gh=ua=ir=le=0,tn=bl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,zo(),r}function fp(t,n){At=null,H.H=nu,n===sl||n===Qo?(n=Im(),Gt=3):n===Rm?(n=Im(),Gt=4):Gt=n===Vg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ct===null&&(le=1,lu(t,vn(n,t.current)))}function dp(){var t=H.H;return H.H=nu,t===null?nu:t}function mp(){var t=H.A;return H.A=AE,t}function $h(){le=4,nr||(Ot&4194048)!==Ot&&bn.current!==null||(rs=!0),(ir&134217727)===0&&(ua&134217727)===0||$t===null||sr($t,Ot,Sn,!1)}function Jh(t,n,r){var l=Ht;Ht|=2;var c=dp(),f=mp();($t!==t||Ot!==n)&&(mu=null,os(t,n)),n=!1;var _=le;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,S=cn;switch(Gt){case 8:Zh(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Gt;if(Gt=0,cn=null,us(t,E,S,P),r&&rs){_=0;break t}break;default:P=Gt,Gt=0,cn=null,us(t,E,S,P)}}wE(),_=le;break}catch(G){fp(t,G)}while(!0);return n&&t.shellSuspendCounter++,bi=ia=null,Ht=l,H.H=c,H.A=f,Ct===null&&($t=null,Ot=0,zo()),_}function wE(){for(;Ct!==null;)gp(Ct)}function RE(t,n){var r=Ht;Ht|=2;var l=dp(),c=mp();$t!==t||Ot!==n?(mu=null,du=dn()+500,os(t,n)):rs=Ur(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,us(t,n,f,1);break;case 2:case 9:if(Cm(f)){Gt=0,cn=null,pp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Jn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Cm(f)?(Gt=0,cn=null,pp(n)):(Gt=0,cn=null,us(t,n,f,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var E=Ct;if(!_||$p(_)){Gt=0,cn=null;var S=E.sibling;if(S!==null)Ct=S;else{var P=E.return;P!==null?(Ct=P,pu(P)):Ct=null}break e}}Gt=0,cn=null,us(t,n,f,5);break;case 6:Gt=0,cn=null,us(t,n,f,6);break;case 8:Zh(),le=6;break t;default:throw Error(s(462))}}CE();break}catch(G){fp(t,G)}while(!0);return bi=ia=null,H.H=l,H.A=c,Ht=r,Ct!==null?0:($t=null,Ot=0,zo(),le)}function CE(){for(;Ct!==null&&!Is();)gp(Ct)}function gp(t){var n=qg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?pu(t):Ct=n}function pp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Lg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Lg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:dh(n);default:Gg(r,n),n=Ct=ym(n,Ni),n=qg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?pu(t):Ct=n}function us(t,n,r,l){bi=ia=null,dh(n),ts=null,gl=0;var c=n.return;try{if(pE(t,c,n,r,Ot)){le=1,lu(t,vn(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,lu(t,vn(r,t.current)),Ct=null;return}n.flags&32768?(kt||l===1?t=!0:rs||(Ot&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):pu(n)}function pu(t){var n=t;do{if((n.flags&32768)!==0){yp(n,nr);return}t=n.return;var r=_E(n.alternate,n,Ni);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function yp(t,n){do{var r=vE(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);le=6,Ct=null}function _p(t,n,r,l,c,f,_,E,S){t.cancelPendingCommit=null;do yu();while(ze!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=qc,Us(t,r,f,_,E,S),t===$t&&(Ct=$t=null,Ot=0),ss=n,ar=t,ls=r,Yh=f,Kh=c,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NE(Nr,function(){return bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,_=Ht,Ht|=4;try{EE(t,n,r)}finally{Ht=_,et.p=c,H.T=l}}ze=1,vp(),Ep(),Tp()}}function vp(){if(ze===1){ze=0;var t=ar,n=ss,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{ep(n,t);var f=hf,_=lm(t.containerInfo),E=f.focusedElem,S=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&sm(E.ownerDocument.documentElement,E)){if(S!==null&&zc(E)){var P=S.start,G=S.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),gt=E.textContent.length,ht=Math.min(S.start,gt),Kt=S.end===void 0?ht:Math.min(S.end,gt);!B.extend&&ht>Kt&&(_=Kt,Kt=ht,ht=_);var M=am(E,ht),I=am(E,Kt);if(M&&I&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var z=Q.createRange();z.setStart(M.node,M.offset),B.removeAllRanges(),ht>Kt?(B.addRange(z),B.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),B.addRange(z))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Iu=!!cf,hf=cf=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,ze=2}}function Ep(){if(ze===2){ze=0;var t=ar,n=ss,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{$g(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}ze=3}}function Tp(){if(ze===4||ze===3){ze=0,ho();var t=ar,n=ss,r=ls,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ss=ar=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),Ra(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ls&3)!==0&&yu(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Xh?Sl++:(Sl=0,Xh=t):Sl=0,wl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function yu(t){return vp(),Ep(),Tp(),bp()}function bp(){if(ze!==5)return!1;var t=ar,n=Yh;Yh=0;var r=Ra(ls),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Kh,Kh=null;var f=ar,_=ls;if(ze=0,ss=ar=null,ls=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,sp(f.current),ip(f,f.current,_,r),Ht=E,wl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,H.T=l,Ap(t,n)}}function Sp(t,n,r){n=vn(r,n),n=Ch(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(ui(t,2),Jn(t))}function Xt(t,n,r){if(t.tag===3)Sp(t,t,r);else for(;n!==null;){if(n.tag===3){Sp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=vn(r,t),r=Dg(2),l=Xi(n,r,2),l!==null&&(Ig(r,l,n,t),ui(l,2),Jn(l));break}}n=n.return}}function Wh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new bE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Hh=!0,c.add(r),t=DE.bind(null,t,n,r),n.then(t,t))}function DE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ot&r)===r&&(le===4||le===3&&(Ot&62914560)===Ot&&300>dn()-Qh?(Ht&2)===0&&os(t,0):Gh|=r,as===Ot&&(as=0)),Jn(t)}function wp(t,n){n===0&&(n=Ms()),t=Ga(t,n),t!==null&&(ui(t,n),Jn(t))}function IE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),wp(t,r)}function VE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),wp(t,r)}function NE(t,n){return Ir(t,n)}var _u=null,cs=null,tf=!1,vu=!1,ef=!1,ca=0;function Jn(t){t!==cs&&t.next===null&&(cs===null?_u=cs=t:cs=cs.next=t),vu=!0,tf||(tf=!0,xE())}function wl(t,n){if(!ef&&vu){ef=!0;do for(var r=!1,l=_u;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ip(l,f))}else f=Ot,f=wa(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ur(l,f)||(r=!0,Ip(l,f));l=l.next}while(r);ef=!1}}function OE(){Rp()}function Rp(){vu=tf=!1;var t=0;ca!==0&&(jE()&&(t=ca),ca=0);for(var n=dn(),r=null,l=_u;l!==null;){var c=l.next,f=Cp(l,n);f===0?(l.next=null,r===null?_u=c:r.next=c,c===null&&(cs=r)):(r=l,(t!==0||(f&3)!==0)&&(vu=!0)),l=c}wl(t)}function Cp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-qe(f),E=1<<_,S=c[_];S===-1?((E&r)===0||(E&l)!==0)&&(c[_]=Os(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ot,r=wa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ur(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),Ra(r)){case 2:case 8:r=ba;break;case 32:r=Nr;break;case 268435456:r=Sa;break;default:r=Nr}return l=Dp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(yu()&&t.callbackNode!==r)return null;var l=Ot;return l=wa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cp(t,l,n),Cp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Dp.bind(null,t):null)}function Ip(t,n){if(yu())return null;cp(t,n,!0)}function xE(){HE(function(){(Ht&6)!==0?Ir(Vs,OE):Rp()})}function nf(){return ca===0&&(ca=xs()),ca}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function Np(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ME(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Vp((c[fe]||null).action),_=l.submitter;_&&(n=(n=_[fe]||null)?Vp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new xa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var S=_?Np(c,_):new FormData(c);Ah(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=_?Np(c,_):new FormData(c),Ah(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var rf=0;rf<jc.length;rf++){var af=jc[rf],UE=af.toLowerCase(),LE=af[0].toUpperCase()+af.slice(1);On(UE,"on"+LE)}On(cm,"onAnimationEnd"),On(hm,"onAnimationIteration"),On(fm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(W0,"onTransitionRun"),On(tE,"onTransitionStart"),On(eE,"onTransitionCancel"),On(dm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Op(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],S=E.instance,P=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){su(G)}c.currentTarget=null,f=S}else for(_=0;_<l.length;_++){if(E=l[_],S=E.instance,P=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){su(G)}c.currentTarget=null,f=S}}}}function Dt(t,n){var r=n[zs];r===void 0&&(r=n[zs]=new Set);var l=t+"__bubble";r.has(l)||(xp(n,t,2,!1),r.add(l))}function sf(t,n,r){var l=0;n&&(l|=4),xp(r,t,l,n)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[Eu]){t[Eu]=!0,Ps.forEach(function(r){r!=="selectionchange"&&(zE.has(r)||sf(r,!1,t),sf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Eu]||(n[Eu]=!0,sf("selectionchange",!1,n))}}function xp(t,n,r,l){switch(iy(n)){case 2:var c=cT;break;case 8:c=hT;break;default:c=Tf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function of(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===c)break;if(_===4)for(_=l.return;_!==null;){var S=_.tag;if((S===3||S===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;E!==null;){if(_=ci(E),_===null)return;if(S=_.tag,S===5||S===6||S===26||S===27){l=f=_;continue t}E=E.parentNode}}l=l.return}Ao(function(){var P=f,G=pn(r),Q=[];t:{var k=mm.get(t);if(k!==void 0){var B=xa,gt=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":B=ka;break;case"focusin":gt="focus",B=La;break;case"focusout":gt="blur",B=La;break;case"beforeblur":case"afterblur":B=La;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Vo;break;case cm:case hm:case fm:B=za;break;case dm:B=Oo;break;case"scroll":case"scrollend":B=bo;break;case"wheel":B=Ba;break;case"copy":case"cut":case"paste":B=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Zs;break;case"toggle":case"beforetoggle":B=Mo}var ht=(n&4)!==0,Kt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?k!==null?k+"Capture":null:k;ht=[];for(var I=P,z;I!==null;){var F=I;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||M===null||(F=Hr(I,M),F!=null&&ht.push(Cl(I,F,z))),Kt)break;I=I.return}0<ht.length&&(k=new B(k,gt,null,r,G),Q.push({event:k,listeners:ht}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==mi&&(gt=r.relatedTarget||r.fromElement)&&(ci(gt)||gt[mn]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(gt=r.relatedTarget||r.toElement,B=P,gt=gt?ci(gt):null,gt!==null&&(Kt=h(gt),ht=gt.tag,gt!==Kt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(B=null,gt=P),B!==gt)){if(ht=_n,F="onMouseLeave",M="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Zs,F="onPointerLeave",M="onPointerEnter",I="pointer"),Kt=B==null?k:kn(B),z=gt==null?k:kn(gt),k=new ht(F,I+"leave",B,r,G),k.target=Kt,k.relatedTarget=z,F=null,ci(G)===P&&(ht=new ht(M,I+"enter",gt,r,G),ht.target=z,ht.relatedTarget=Kt,F=ht),Kt=F,B&&gt)e:{for(ht=B,M=gt,I=0,z=ht;z;z=hs(z))I++;for(z=0,F=M;F;F=hs(F))z++;for(;0<I-z;)ht=hs(ht),I--;for(;0<z-I;)M=hs(M),z--;for(;I--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=hs(ht),M=hs(M)}ht=null}else ht=null;B!==null&&Mp(Q,k,B,ht,!1),gt!==null&&Kt!==null&&Mp(Q,Kt,gt,ht,!0)}}t:{if(k=P?kn(P):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var at=Wd;else if(Ee(k))if(tm)at=Z0;else{at=K0;var Rt=Y0}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&Hs(P.elementType)&&(at=Wd):at=X0;if(at&&(at=at(t,P))){vi(Q,at,r,G);break t}Rt&&Rt(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&Gi(k,"number",k.value)}switch(Rt=P?kn(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(ja=Rt,Pc=P,Ws=null);break;case"focusout":Ws=Pc=ja=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,om(Q,r,G);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":om(Q,r,G)}var st;if(Qn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Vt?j(t,r)&&(ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(y&&r.locale!=="ko"&&(Vt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Vt&&(st=Fs()):(qn=G,Fi="value"in qn?qn.value:qn.textContent,Vt=!0)),Rt=Tu(P,ft),0<Rt.length&&(ft=new Ks(ft,t,null,r,G),Q.push({event:ft,listeners:Rt}),st?ft.data=st:(st=W(r),st!==null&&(ft.data=st)))),(st=m?ve(t,r):Nt(t,r))&&(ft=Tu(P,"onBeforeInput"),0<ft.length&&(Rt=new Ks("onBeforeInput","beforeinput",null,r,G),Q.push({event:Rt,listeners:ft}),Rt.data=st)),ME(Q,t,P,r,G)}Op(Q,n)})}function Cl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hr(t,r),c!=null&&l.unshift(Cl(t,c,f)),c=Hr(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var E=r,S=E.alternate,P=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||P===null||(S=P,c?(P=Hr(r,f),P!=null&&_.unshift(Cl(r,P,S))):c||(P=Hr(r,f),P!=null&&_.push(Cl(r,P,S)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var PE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(PE,`
`).replace(kE,"")}function Lp(t,n){return n=Up(n),Up(t)===n}function Au(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Oa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Oa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Au);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nc.get(r)||r,Hi(t,r,l))}}function uf(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,_,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=_=c=null,S=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":_=G;break;case"checked":S=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}Br(t,f,E,S,P,_,c,!1),Na(t);return;case"select":Dt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=_,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,_,E,r,null)}jr(t,l,c,f),Na(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,S,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Dt(Rl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Hs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&uf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function BE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,S=null,P=null,G=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=Q;default:l.hasOwnProperty(B)||Yt(t,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=r[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Yt(t,n,k,B,l,Q)}}an(t,_,E,S,P,G,f,c);return;case"select":B=_=E=k=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":B=S;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==S&&Yt(t,n,c,f,l,S)}n=E,r=_,l=B,k!=null?di(t,!!r,k,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,_,c,l,f)}Ft(t,k,B);return;case"option":for(var gt in r)if(k=r[gt],r.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,k)}for(S in l)if(k=l[S],B=r[S],l.hasOwnProperty(S)&&k!==B&&(k!=null||B!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(t,n,S,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)k=r[ht],r.hasOwnProperty(ht)&&k!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,k);for(P in l)if(k=l[P],B=r[P],l.hasOwnProperty(P)&&k!==B&&(k!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Yt(t,n,P,k,l,B)}return;default:if(Hs(n)){for(var Kt in r)k=r[Kt],r.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&uf(t,n,Kt,void 0,l,k);for(G in l)k=l[G],B=r[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||uf(t,n,G,k,l,B);return}}for(var M in r)k=r[M],r.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,k);for(Q in l)k=l[Q],B=r[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Yt(t,n,Q,k,l,B)}var cf=null,hf=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var df=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===df?!1:(df=t,!0):(df=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(GE)}:kp;function GE(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function jp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var _=t.ownerDocument;if(r&1&&Dl(_.documentElement),r&2&&Dl(_.body),r&4)for(r=_.head,Dl(r),_=r.firstChild;_;){var E=_.nextSibling,S=_.nodeName;_[Lr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ll(n)}function mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mf(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function FE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function QE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function YE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var pf=null;function qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Hp(t,n,r){switch(n=bu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var wn=new Map,Gp=new Set;function Su(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=et.d;et.d={f:KE,r:XE,D:ZE,C:$E,L:JE,m:WE,X:eT,S:tT,M:nT};function KE(){var t=Oi.f(),n=gu();return t||n}function XE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Oi.r(t)}var fs=typeof document>"u"?null:document;function Fp(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Gp.has(c)||(Gp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function ZE(t){Oi.D(t),Fp("dns-prefetch",t,null)}function $E(t,n){Oi.C(t,n),Fp("preconnect",t,n)}function JE(t,n,r){Oi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function WE(t,n){Oi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),Pe(l,"link",t),oe(l),r.head.appendChild(l)}}}function tT(t,n,r){Oi.S(t,n,r);var l=fs;if(l&&t){var c=Ke(l).hoistableStyles,f=ds(t);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Il(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&yf(t,r);var S=_=l.createElement("link");oe(S),Pe(S,"link",t),S._p=new Promise(function(P,G){S.onload=P,S.onerror=G}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function eT(t,n){Oi.X(t,n);var r=fs;if(r&&t){var l=Ke(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&_f(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function nT(t,n){Oi.M(t,n);var r=fs;if(r&&t){var l=Ke(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&_f(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Qp(t,n,r,l){var c=(c=yt.current)?Su(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=Ke(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=Ke(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Il(t)))&&!f._p&&(_.instance=f,_.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||iT(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=Ke(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+de(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Yp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function iT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),oe(n),t.head.appendChild(n))}function ms(t){return'[src="'+de(t)+'"]'}function Vl(t){return"script[async]"+t}function Kp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Pe(l,"style",c),wu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ds(r.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Yp(r),(c=wn.get(c))&&yf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var _=f;return _._p=new Promise(function(E,S){_.onload=E,_.onerror=S}),Pe(f,"link",l),n.state.loading|=4,wu(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,oe(c),c):(l=r,(c=wn.get(f))&&(l=A({},r),_f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,r.precedence,t));return n.instance}function wu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ru=null;function Xp(t,n,r){if(Ru===null){var l=new Map,c=Ru=new Map;c.set(r,l)}else c=Ru,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Lr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function Zp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function rT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function aT(){}function sT(t,n,r){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ds(r.href),f=t.querySelector(Il(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=Yp(r),(c=wn.get(c))&&yf(r,c),f=f.createElement("link"),oe(f);var _=f;_._p=new Promise(function(E,S){_.onload=E,_.onerror=S}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function lT(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&vf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&vf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function vf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(oT,t),Du=null,Cu.call(t))}function oT(t,n){if(!(n.state.loading&4)){var r=Du.get(t);if(r)var l=r.get(null);else{r=new Map,Du.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function uT(t,n,r,l,c,f,_,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Jp(t,n,r,l,c,f,_,E,S,P,G,Q){return t=new uT(t,n,r,_,E,S,P,Q),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ih(f),t}function Wp(t){return t?(t=Fa,t):Fa}function ty(t,n,r,l,c,f){c=Wp(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(fn(r,t,n),ol(r,t,n))}function ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ef(t,n){ey(t,n),(t=t.alternate)&&ey(t,n)}function ny(t){if(t.tag===13){var n=Ga(t,67108864);n!==null&&fn(n,t,67108864),Ef(t,67108864)}}var Iu=!0;function cT(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Tf(t,n,r,l)}finally{et.p=f,H.T=c}}function hT(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Tf(t,n,r,l)}finally{et.p=f,H.T=c}}function Tf(t,n,r,l){if(Iu){var c=Af(l);if(c===null)of(t,n,l,Vu,r),ry(t,l);else if(dT(c,t,n,r,l))l.stopPropagation();else if(ry(t,l),n&4&&-1<fT.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=In(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var S=1<<31-qe(_);E.entanglements[1]|=S,_&=~S}Jn(f),(Ht&6)===0&&(du=dn()+500,wl(0))}}break;case 13:E=Ga(f,2),E!==null&&fn(E,f,2),gu(),Ef(f,2)}if(f=Af(l),f===null&&of(t,n,l,Vu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else of(t,n,l,null,r)}}function Af(t){return t=pn(t),bf(t)}var Vu=null;function bf(t){if(Vu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wc()){case Vs:return 2;case ba:return 8;case Nr:case Rc:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Sf=!1,or=null,ur=null,cr=null,xl=new Map,Ml=new Map,hr=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Ul(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function dT(t,n,r,l,c){switch(n){case"focusin":return or=Ul(or,t,n,r,l,c),!0;case"dragenter":return ur=Ul(ur,t,n,r,l,c),!0;case"mouseover":return cr=Ul(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ul(xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Ul(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function ay(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,go(t.priority,function(){if(r.tag===13){var l=hn();l=ki(l);var c=Ga(r,l);c!==null&&fn(c,r,l),Ef(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Af(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Pn(r),n!==null&&ny(n),t.blockedOn=r,!1;n.shift()}return!0}function sy(t,n,r){Nu(t)&&r.delete(n)}function mT(){Sf=!1,or!==null&&Nu(or)&&(or=null),ur!==null&&Nu(ur)&&(ur=null),cr!==null&&Nu(cr)&&(cr=null),xl.forEach(sy),Ml.forEach(sy)}function Ou(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mT)))}var xu=null;function ly(t){xu!==t&&(xu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Ah(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ll(t){function n(S){return Ou(S,t)}or!==null&&Ou(or,t),ur!==null&&Ou(ur,t),cr!==null&&Ou(cr,t),xl.forEach(n),Ml.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)ay(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[fe]||null;if(typeof f=="function")_||ly(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[fe]||null)E=_.formAction;else if(bf(c)!==null)continue}else E=_.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ly(r)}}}function wf(t){this._internalRoot=t}Mu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();ty(r,l,t,n,null,null)},Mu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ty(t.current,2,null,t,null,null),gu(),n[mn]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&ay(t)}};var oy=e.version;if(oy!=="19.1.0")throw Error(s(527,oy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var gT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{ae=Uu.inject(gT),qt=Uu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Sg,f=wg,_=Rg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Jp(t,1,!1,null,null,r,l,c,f,_,E,null),t[mn]=n.current,lf(t),new wf(n)},Pl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Sg,_=wg,E=Rg,S=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Jp(t,1,!0,n,r??null,l,c,f,_,E,S,P),n.context=Wp(null),r=n.current,l=hn(),l=ki(l),c=Ki(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Jn(n),t[mn]=n.current,lf(t),new Mu(n)},Pl.version="19.1.0",Pl}var _y;function wT(){if(_y)return Df.exports;_y=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Df.exports=ST(),Df.exports}var RT=wT();/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),vy=a=>{const e=DT(a);return e.charAt(0).toUpperCase()+e.slice(1)},z_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),IT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=mr.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...g},p)=>mr.createElement("svg",{ref:p,...VT,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:z_("lucide",o),...!h&&!IT(g)&&{"aria-hidden":"true"},...g},[...d.map(([v,A])=>mr.createElement(v,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=(a,e)=>{const i=mr.forwardRef(({className:s,...o},h)=>mr.createElement(NT,{ref:h,iconNode:e,className:z_(`lucide-${CT(vy(a))}`,`lucide-${a}`,s),...o}));return i.displayName=vy(a),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xT=uc("download",OT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UT=uc("file-text",MT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zT=uc("plus",LT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kT=uc("trash-2",PT),BT="/dra-invoice/logo.svg",jT=()=>{};var Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,v=p?a[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let V=(g&15)<<2|v>>6,q=v&63;p||(q=64,d||(V=64)),s.push(i[A],i[C],i[V],i[q])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(P_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):qT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const C=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||C==null)throw new HT;const V=h<<2|g>>4;if(s.push(V),v!==64){const q=g<<4&240|v>>2;if(s.push(q),C!==64){const Z=v<<6&192|C;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class HT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(a){const e=P_(a);return k_.encodeByteArray(e,!0)},Yu=function(a){return GT(a).replace(/\./g,"")},FT=function(a){try{return k_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=()=>QT().__FIREBASE_DEFAULTS__,KT=()=>{if(typeof process>"u"||typeof Ey>"u")return;const a=Ey.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},XT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&FT(a[1]);return e&&JSON.parse(e)},fd=()=>{try{return jT()||YT()||KT()||XT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},ZT=a=>{var e,i;return(i=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},$T=a=>{const e=ZT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},B_=()=>{var a;return(a=fd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const Hl={};function e1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?a.emulator.push(e):a.prod.push(e);return a}function n1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ty=!1;function i1(a,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Hl[a]===e||Hl[a]||Ty)return;Hl[a]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",h=e1().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function p(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Ty=!0,d()},V}function A(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function C(){const V=n1(s),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),St=i("preprendIcon"),pt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;g(dt),A(J,it);const Ut=v();p(pt,St),dt.append(pt,Z,J,Ut),document.body.appendChild(dt)}h?(Z.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a1(){var a;const e=(a=fd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function l1(){return!a1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function q_(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function o1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FirebaseError";class Cr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=u1,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?c1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Cr(o,g,s)}}function c1(a,e){return a.replace(h1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const h1=/\{\$([^}]+)}/g;function Ku(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Ay(h)&&Ay(d)){if(!Ku(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ay(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1e3,d1=2,m1=4*60*60*1e3,g1=.5;function by(a,e=f1,i=d1){const s=e*Math.pow(i,a),o=Math.round(g1*s*(Math.random()-.5)*2);return Math.min(m1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(a){return a&&a._delegate?a._delegate:a}class Mi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new JT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(a){return a===ha?void 0:a}function _1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const E1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},T1=Mt.INFO,A1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},b1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=A1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class md{constructor(e){this.name=e,this._logLevel=T1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const S1=(a,e)=>e.some(i=>a instanceof i);let Sy,wy;function w1(){return Sy||(Sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Hf=new WeakMap,G_=new WeakMap,Of=new WeakMap,gd=new WeakMap;function C1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(gr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&H_.set(i,a)}).catch(()=>{}),gd.set(e,a),e}function D1(a){if(Hf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Hf.set(a,e)}let Gf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Hf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||G_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function I1(a){Gf=a(Gf)}function V1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(xf(this),e,...i);return G_.set(s,e.sort?e.sort():[e]),gr(s)}:R1().includes(a)?function(...e){return a.apply(xf(this),e),gr(H_.get(this))}:function(...e){return gr(a.apply(xf(this),e))}}function N1(a){return typeof a=="function"?V1(a):(a instanceof IDBTransaction&&D1(a),S1(a,w1())?new Proxy(a,Gf):a)}function gr(a){if(a instanceof IDBRequest)return C1(a);if(Of.has(a))return Of.get(a);const e=N1(a);return e!==a&&(Of.set(a,e),gd.set(e,a)),e}const xf=a=>gd.get(a);function F_(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=gr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(gr(d.result),p.oldVersion,p.newVersion,gr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const O1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],Mf=new Map;function Ry(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=x1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||O1.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&p.done]))[0]};return Mf.set(e,h),h}I1(a=>({...a,get:(e,i,s)=>Ry(e,i)||a.get(e,i,s),has:(e,i)=>!!Ry(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(U1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function U1(a){const e=a.getComponent();return e?.type==="VERSION"}const Ff="@firebase/app",Cy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new md("@firebase/app"),L1="@firebase/app-compat",z1="@firebase/analytics-compat",P1="@firebase/analytics",k1="@firebase/app-check-compat",B1="@firebase/app-check",j1="@firebase/auth",q1="@firebase/auth-compat",H1="@firebase/database",G1="@firebase/data-connect",F1="@firebase/database-compat",Q1="@firebase/functions",Y1="@firebase/functions-compat",K1="@firebase/installations",X1="@firebase/installations-compat",Z1="@firebase/messaging",$1="@firebase/messaging-compat",J1="@firebase/performance",W1="@firebase/performance-compat",tA="@firebase/remote-config",eA="@firebase/remote-config-compat",nA="@firebase/storage",iA="@firebase/storage-compat",rA="@firebase/firestore",aA="@firebase/ai",sA="@firebase/firestore-compat",lA="firebase",oA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",uA={[Ff]:"fire-core",[L1]:"fire-core-compat",[P1]:"fire-analytics",[z1]:"fire-analytics-compat",[B1]:"fire-app-check",[k1]:"fire-app-check-compat",[j1]:"fire-auth",[q1]:"fire-auth-compat",[H1]:"fire-rtdb",[G1]:"fire-data-connect",[F1]:"fire-rtdb-compat",[Q1]:"fire-fn",[Y1]:"fire-fn-compat",[K1]:"fire-iid",[X1]:"fire-iid-compat",[Z1]:"fire-fcm",[$1]:"fire-fcm-compat",[J1]:"fire-perf",[W1]:"fire-perf-compat",[tA]:"fire-rc",[eA]:"fire-rc-compat",[nA]:"fire-gcs",[iA]:"fire-gcs-compat",[rA]:"fire-fst",[sA]:"fire-fst-compat",[aA]:"fire-vertex","fire-js":"fire-js",[lA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,cA=new Map,Yf=new Map;function Dy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function vr(a){const e=a.name;if(Yf.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,a);for(const i of Xu.values())Dy(i,a);for(const i of cA.values())Dy(i,a);return!0}function pd(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function hA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new cc("app","Firebase",fA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=oA;function Q_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(i||(i=B_()),!i)throw pr.create("no-options");const h=Xu.get(o);if(h){if(Ku(i,h.options)&&Ku(s,h.config))return h;throw pr.create("duplicate-app",{appName:o})}const d=new v1(o);for(const p of Yf.values())d.addComponent(p);const g=new dA(i,s,d);return Xu.set(o,g),g}function gA(a=Qf){const e=Xu.get(a);if(!e&&a===Qf&&B_())return Q_();if(!e)throw pr.create("no-app",{appName:a});return e}function ti(a,e,i){var s;let o=(s=uA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}vr(new Mi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebase-heartbeat-database",yA=1,$l="firebase-heartbeat-store";let Uf=null;function Y_(){return Uf||(Uf=F_(pA,yA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(a=>{throw pr.create("idb-open",{originalErrorMessage:a.message})})),Uf}async function _A(a){try{const i=(await Y_()).transaction($l),s=await i.objectStore($l).get(K_(a));return await i.done,s}catch(e){if(e instanceof Cr)Ui.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function Iy(a,e){try{const s=(await Y_()).transaction($l,"readwrite");await s.objectStore($l).put(e,K_(a)),await s.done}catch(i){if(i instanceof Cr)Ui.warn(i.message);else{const s=pr.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(s.message)}}}function K_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=1024,EA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Vy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>EA){const d=SA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Vy(),{heartbeatsToSend:s,unsentEntries:o}=AA(this._heartbeatsCache.heartbeats),h=Yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ui.warn(i),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function AA(a,e=vA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ny(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ny(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class bA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?q_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ny(a){return Yu(JSON.stringify({version:2,heartbeats:a})).length}function SA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(a){vr(new Mi("platform-logger",e=>new M1(e),"PRIVATE")),vr(new Mi("heartbeat",e=>new TA(e),"PRIVATE")),ti(Ff,Cy,a),ti(Ff,Cy,"esm2017"),ti("fire-js","")}wA("");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,X_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,x,U){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return b.prototype[x].apply(N,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)N[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;16>x;++x)N[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],x=O.g[2];var U=O.g[3],w=b+(U^R&(x^U))+N[0]+3614090360&4294967295;b=R+(w<<7&4294967295|w>>>25),w=U+(x^b&(R^x))+N[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=x+(R^U&(b^R))+N[2]+606105819&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(b^x&(U^b))+N[3]+3250441966&4294967295,R=x+(w<<22&4294967295|w>>>10),w=b+(U^R&(x^U))+N[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(x^b&(R^x))+N[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=x+(R^U&(b^R))+N[6]+2821735955&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(b^x&(U^b))+N[7]+4249261313&4294967295,R=x+(w<<22&4294967295|w>>>10),w=b+(U^R&(x^U))+N[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(x^b&(R^x))+N[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=x+(R^U&(b^R))+N[10]+4294925233&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(b^x&(U^b))+N[11]+2304563134&4294967295,R=x+(w<<22&4294967295|w>>>10),w=b+(U^R&(x^U))+N[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(x^b&(R^x))+N[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=x+(R^U&(b^R))+N[14]+2792965006&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(b^x&(U^b))+N[15]+1236535329&4294967295,R=x+(w<<22&4294967295|w>>>10),w=b+(x^U&(R^x))+N[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(b^R))+N[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=x+(b^R&(U^b))+N[11]+643717713&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(x^U))+N[0]+3921069994&4294967295,R=x+(w<<20&4294967295|w>>>12),w=b+(x^U&(R^x))+N[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(b^R))+N[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=x+(b^R&(U^b))+N[15]+3634488961&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(x^U))+N[4]+3889429448&4294967295,R=x+(w<<20&4294967295|w>>>12),w=b+(x^U&(R^x))+N[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(b^R))+N[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=x+(b^R&(U^b))+N[3]+4107603335&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(x^U))+N[8]+1163531501&4294967295,R=x+(w<<20&4294967295|w>>>12),w=b+(x^U&(R^x))+N[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(b^R))+N[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=x+(b^R&(U^b))+N[7]+1735328473&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(x^U))+N[12]+2368359562&4294967295,R=x+(w<<20&4294967295|w>>>12),w=b+(R^x^U)+N[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^x)+N[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=x+(U^b^R)+N[11]+1839030562&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^b)+N[14]+4259657740&4294967295,R=x+(w<<23&4294967295|w>>>9),w=b+(R^x^U)+N[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^x)+N[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=x+(U^b^R)+N[7]+4139469664&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^b)+N[10]+3200236656&4294967295,R=x+(w<<23&4294967295|w>>>9),w=b+(R^x^U)+N[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^x)+N[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=x+(U^b^R)+N[3]+3572445317&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^b)+N[6]+76029189&4294967295,R=x+(w<<23&4294967295|w>>>9),w=b+(R^x^U)+N[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^x)+N[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=x+(U^b^R)+N[15]+530742520&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^b)+N[2]+3299628645&4294967295,R=x+(w<<23&4294967295|w>>>9),w=b+(x^(R|~U))+N[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~x))+N[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=x+(b^(U|~R))+N[14]+2878612391&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~b))+N[5]+4237533241&4294967295,R=x+(w<<21&4294967295|w>>>11),w=b+(x^(R|~U))+N[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~x))+N[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=x+(b^(U|~R))+N[10]+4293915773&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~b))+N[1]+2240044497&4294967295,R=x+(w<<21&4294967295|w>>>11),w=b+(x^(R|~U))+N[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~x))+N[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=x+(b^(U|~R))+N[6]+2734768916&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~b))+N[13]+1309151649&4294967295,R=x+(w<<21&4294967295|w>>>11),w=b+(x^(R|~U))+N[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~x))+N[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=x+(b^(U|~R))+N[2]+718787259&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,N=this.B,x=this.h,U=0;U<b;){if(x==0)for(;U<=R;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(N[x++]=O.charCodeAt(U++),x==this.blockSize){o(this,N),x=0;break}}else for(;U<b;)if(N[x++]=O[U++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)O[R++]=this.g[b]>>>N&255;return O};function h(O,b){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function d(O,b){this.h=b;for(var R=[],N=!0,x=O.length-1;0<=x;x--){var U=O[x]|0;N&&U==b||(R[x]=U,N=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return J(v(-O));for(var b=[],R=1,N=0;O>=R;N++)b[N]=O/R|0,R*=4294967296;return new d(b,0)}function A(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return J(A(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(b,8)),N=C,x=0;x<O.length;x+=8){var U=Math.min(8,O.length-x),w=parseInt(O.substring(x,x+U),b);8>U?(U=v(Math.pow(b,U)),N=N.j(U).add(v(w))):(N=N.j(R),N=N.add(v(w)))}return N}var C=p(0),V=p(1),q=p(16777216);a=d.prototype,a.m=function(){if(it(this))return-J(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(it(this))return"-"+J(this).toString(O);for(var b=v(Math.pow(O,6)),R=this,N="";;){var x=Ut(R,b).g;R=St(R,x.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=x,Z(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function it(O){return O.h==-1}a.l=function(O){return O=St(this,O),it(O)?-1:Z(O)?0:1};function J(O){for(var b=O.g.length,R=[],N=0;N<b;N++)R[N]=~O.g[N];return new d(R,~O.h).add(V)}a.abs=function(){return it(this)?J(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0,x=0;x<=b;x++){var U=N+(this.i(x)&65535)+(O.i(x)&65535),w=(U>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);N=w>>>16,U&=65535,w&=65535,R[x]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function St(O,b){return O.add(J(b))}a.j=function(O){if(Z(this)||Z(O))return C;if(it(this))return it(O)?J(this).j(J(O)):J(J(this).j(O));if(it(O))return J(this.j(J(O)));if(0>this.l(q)&&0>O.l(q))return v(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<O.g.length;x++){var U=this.i(N)>>>16,w=this.i(N)&65535,xe=O.i(x)>>>16,re=O.i(x)&65535;R[2*N+2*x]+=w*re,pt(R,2*N+2*x),R[2*N+2*x+1]+=U*re,pt(R,2*N+2*x+1),R[2*N+2*x+1]+=w*xe,pt(R,2*N+2*x+1),R[2*N+2*x+2]+=U*xe,pt(R,2*N+2*x+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new d(R,0)};function pt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function dt(O,b){this.g=O,this.h=b}function Ut(O,b){if(Z(b))throw Error("division by zero");if(Z(O))return new dt(C,C);if(it(O))return b=Ut(J(O),b),new dt(J(b.g),J(b.h));if(it(b))return b=Ut(O,J(b)),new dt(J(b.g),b.h);if(30<O.g.length){if(it(O)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var R=V,N=b;0>=N.l(O);)R=Et(R),N=Et(N);var x=zt(R,1),U=zt(N,1);for(N=zt(N,2),R=zt(R,2);!Z(N);){var w=U.add(N);0>=w.l(O)&&(x=x.add(R),U=w),N=zt(N,1),R=zt(R,1)}return b=St(O,x.j(b)),new dt(x,b)}for(x=C;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=v(R),w=U.j(b);it(w)||0<w.l(O);)R-=N,U=v(R),w=U.j(b);Z(U)&&(U=V),x=x.add(U),O=St(O,w)}return new dt(x,O)}a.A=function(O){return Ut(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&O.i(N);return new d(R,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|O.i(N);return new d(R,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^O.i(N);return new d(R,this.h^O.h)};function Et(O){for(var b=O.g.length+1,R=[],N=0;N<b;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(R,O.h)}function zt(O,b){var R=b>>5;b%=32;for(var N=O.g.length-R,x=[],U=0;U<N;U++)x[U]=0<b?O.i(U+R)>>>b|O.i(U+R+1)<<32-b:O.i(U+R);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,X_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,yr=d}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z_,kl,$_,ju,Kf,J_,W_,tv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var y=0,T=!1,L={next:function(){if(!T&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function V(u,m,y){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,V.apply(null,arguments)}function q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,W)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let W=0;W<j;W++)u[L+W]=T[W]}else u.push(T)}}class St{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function dt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ut(u){return Ut[" "](u),u}Ut[" "]=function(){};var Et=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function zt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function x(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new St(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Pt=new xe,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(K)}};var K=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){U(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Et){t:{try{Ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,$);var yt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Pi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,y,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Ir(u,m,T,L);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new Ln(m,this.src,j,!!T,L),m.fa=y,u.push(m)),m};function Dr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Pi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ir(u,m,y,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==T)return L}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Is={};function ho(u,m,y,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)ho(u,m[j],y,T,L);return null}return y=fo(y),u&&u[we]?u.K(m,y,v(T)?!!T.capture:!1,L):dn(u,m,y,!1,T,L)}function dn(u,m,y,T,L,j){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Vt=Sa(u);if(Vt||(u[Vr]=Vt=new li(u)),y=Vt.add(m,y,T,W,j),y.proxy)return y;if(T=wc(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function wc(){function u(y){return m.call(u.src,u.listener,y)}const m=Rc;return u}function Vs(u,m,y,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Vs(u,m[j],y,T,L);else T=v(T)?!!T.capture:!!T,y=fo(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=Ir(j,y,T,L),-1<y&&(Pi(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Sa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,y,T,L)),(y=-1<u?m[u]:null)&&ba(y))}function ba(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Dr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Nr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Sa(m))?(Dr(y,u),y.h==0&&(y.src=null,m[Vr]=null)):Pi(u)}}}function Nr(u){return u in Is?Is[u]:Is[u]="on"+u}function Rc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&ba(u),u=y.call(T,m)}return u}function Sa(u){return u=u[Vr],u instanceof li?u:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function fo(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function ae(){nt.call(this),this.i=new li(this),this.M=this,this.F=null}Z(ae,nt),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(u,m,y,T){Vs(this,u,m,y,T)};function qt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var L=m;m=new $(T,u),N(m,L)}if(L=!0,y)for(var j=y.length-1;0<=j;j--){var W=m.g=y[j];L=rn(W,T,!0,m)&&L}if(W=m.g=u,L=rn(W,T,!0,m)&&L,L=rn(W,T,!1,m)&&L,y)for(j=0;j<y.length;j++)W=m.g=y[j],L=rn(W,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Pi(y[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ae.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function rn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==y){var Vt=W.listener,ve=W.ha||W.src;W.fa&&Dr(u.i,W),L=Vt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=V(u,y));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function mo(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cc extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){nt.call(this),this.h=u,this.g={}}Z(Or,nt);var xr=[];function Mr(u){zt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ba(m)},u),u.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Mr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,wa=g.JSON.parse,Ur=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function xs(u){return u.h||(u.h=u.i())}function Ms(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){$.call(this,"d")}Z(ui,$);function Us(){$.call(this,"c")}Z(Us,$);var zn={},Ls=null;function ki(){return Ls=Ls||new ae}zn.La="serverreachability";function Ra(u){$.call(this,zn.La,u)}Z(Ra,$);function Bi(u){const m=ki();qt(m,new Ra(m))}zn.STAT_EVENT="statevent";function go(u,m){$.call(this,zn.STAT_EVENT,u),this.stat=m}Z(go,$);function Wt(u){const m=ki();qt(m,new go(m,u))}zn.Ma="timingevent";function _e(u,m){$.call(this,zn.Ma,u),this.size=m}Z(_e,$);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function zs(u,m,y,T,L,j){u.info(function(){if(u.g)if(j)for(var W="",Vt=j.split("&"),ve=0;ve<Vt.length;ve++){var Nt=Vt[ve].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Ee=Ce.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(Ce+"="+Nt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+W})}function Dc(u,m,y,T,L,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+j+" "+W})}function ji(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(u,y)+(T?" "+T:"")})}function po(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Lr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return In(y)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function kn(){}Z(kn,Os),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Pn=new kn;function Ke(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ps={},Ca={};function Vn(u,m,y){u.L=1,u.v=jr(an(m)),u.m=y,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),zr(u),u.A=an(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gs(y.i,"t",T),u.C=0,y=u.j.J,u.h=new oe,u.g=Oo(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Cc(V(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xr[0]=L.toString()),L=xr);for(var j=0;j<L.length;j++){var W=ho(y,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),zs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||So(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=vi?Bi(3):Bi(2)),Hi(this);var y=this.g.Z();this.X=y;e:if(yo(this)){var T=So(this.g);u="";var L=T.length,j=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,Dc(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Vt)){var Nt=Vt;break e}}Nt=null}if(y=Nt)ji(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,y);else{this.o=!1,this.s=3,Wt(12),Me(this),Bn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=_o(this,W),Ue==Ca){Ee==4&&(this.s=4,Wt(14),y=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ps){this.s=4,Wt(15),ji(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else ji(this.i,this.l,Ue,null),Pr(this,Ue);if(yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),y=!1),this.o=this.o&&y,!y)ji(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Xr(Ce),Ce.M=!0,Wt(11))}}else ji(this.i,this.l,W,null),Pr(this,W);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?Io(this.j,this):(this.o=!1,zr(this)))}else xc(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),Bn(this)}}}catch{}finally{}};function yo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _o(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ca:(y=Number(m.substring(y,T)),isNaN(y)?Ps:(T+=1,T+y>m.length?Ca:(m=m.slice(T,T+y),u.C=T+y,m)))}Ke.prototype.cancel=function(){this.J=!0,Me(this)};function zr(u){u.S=Date.now()+u.I,vo(u,u.I)}function vo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(V(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(po(this.i,this.A),this.L!=2&&(Bi(),Wt(17)),Me(this),this.s=2,Bn(this)):vo(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Io(u.j,u)}function Me(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Mr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Pr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ks(y.h,u))){if(!u.K&&ks(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ka(y),za(y);else break t;Xs(y),Wt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(V(y.Za,y),6e3));if(1>=Ia(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _i(y,11)}else if((u.K||y.g==u)&&ka(y),!pt(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(y.T=Nt[0],Nt=Nt[1],y.G==2)if(Nt[0]=="c"){y.K=Nt[1],y.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(y.la=Ce,y.j.info("VER="+y.la));const Ee=Nt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const vi=Nt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Ue=u.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var j=T.h;j.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Va(j,j.h),j.h=null))}if(T.D){const $s=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,Ft(T.I,T.D,$s))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=No(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Vt=W,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Hi(Vt),zr(Vt)),T.g=W}else Co(T);0<y.i.length&&Pa(y)}else Nt[0]!="stop"&&Nt[0]!="close"||_i(y,7);else y.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?_i(y,7):Ys(y):Nt[0]!="noop"&&y.l&&y.l.ta(Nt),y.v=0)}}Bi(4)}catch{}}var Eo=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Da(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ia(u){return u.h?1:u.g?u.g.size:0}function ks(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Va(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function Ic(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Na(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Na(u),T=Ic(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],y&&y[j],u)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vc(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),L=null;if(0<=T){var j=u[y].substring(0,T);L=u[y].substring(T+1)}else j=u[y];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,y=new mi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),di(this,y),this.m=u.m}else u&&(m=String(u).match(kr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Gi(this,m[4]),this.l=gn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,qs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,qs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(qr(y,y.charAt(0)=="/"?Nc:Hs,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",qr(y,Oa)),u.join("")};function an(u){return new de(u)}function Br(u,m,y){u.j=y?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,y){m instanceof mi?(u.i=m,Ao(u.i,u.h)):(y||(m=qr(m,Oc)),u.i=new mi(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function jr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,To),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function To(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,Hs=/[#\?:]/g,Nc=/[#\?]/g,Oc=/[#\?@]/g,Oa=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Vc(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=mi.prototype,a.add=function(u,m){pn(this),this.i=null,u=jn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function gi(u,m){pn(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return pn(u),m=jn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)y.push(m[T])}return y},a.V=function(u){pn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(jn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},a.set=function(u,m){return pn(this),this.i=null,u=jn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gs(u,m,y){gi(u,m),0<y.length&&(u.i=null,u.g.set(jn(u,m),it(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=j;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),u.push(L)}}return this.i=u.join("&")};function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ao(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(y,T){var L=T.toLowerCase();T!=L&&(gi(this,T),Gs(this,L,y))},u)),u.j=m}function Hr(u,m){const y=new mn;if(g.Image){const T=new Image;T.onload=q(yn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=q(yn,y,"TestLoadImage: error",!1,m,T),T.onabort=q(yn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(yn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const y=new mn,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?yn(y,"TestPingServer: ok",!0,m):yn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(y,"TestPingServer: error",!1,m)})}function yn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function Gr(){this.g=new Ur}function qn(u,m,y){const T=y||"";try{js(u,function(L,j){let W=L;v(L)&&(W=In(L)),m.push(T+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(Fi,Os),Fi.prototype.g=function(){return new yi(this.l,this.j)},Fi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(yi,ae),a=yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Fs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},a.Qa=function(u){this.g&&(this.response=u,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return zt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Re(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Qs(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function Bt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,ae);var xa=/^https?$/i,Fr=["POST","PUT"];a=Bt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?xs(this.o):xs(Pn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){bo(this,j);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())y.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of y)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){bo(this,j)}};function bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ma(u),Fn(u)}function Ma(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},a.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)qe(u.Ea,0,u);else if(qt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var L=String(u.D).match(kr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!xa.test(L?L.toLowerCase():"")}y=T}if(y)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<_n(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Ma(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Qr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wa(m)}};function So(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var y=x(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[L]||[];m[L]=j,j.push(y)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function La(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=La.prototype,a.la=8,a.G=1,a.connect=function(u,m,y,T){Wt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=No(this,null,this.W),Pa(this)};function Ys(u){if(wo(u),u.G==3){var m=u.U++,y=an(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),Kr(u,y),m=new Ke(u,u.j,m),m.L=2,m.v=jr(an(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Oo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zr(m)}Vo(u)}function za(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function wo(u){za(u),u.u&&(g.clearTimeout(u.u),u.u=null),ka(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Da(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ot||(et(),ot=!0),Pt.add(m,u),u.B=0}}function Mc(u,m){return Ia(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(V(u.Ga,u,m),Zs(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ke(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Ro(this,L,m),y=an(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),Kr(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(Qs(j)))+"&"+m:this.m&&Re(y,this.m,j)),Va(this.h,L),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),L.T=!0,Vn(L,y,null)):Vn(L,y,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||Da(this.h)||Ks(this))};function Ks(u,m){var y;m?y=m.l:y=u.U++;const T=an(u.I);Ft(T,"SID",u.K),Ft(T,"RID",y),Ft(T,"AID",u.T),Kr(u,T),u.m&&u.o&&Re(T,u.m,u.o),y=new Ke(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ro(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,y),Vn(y,T,m)}function Kr(u,m){u.H&&zt(u.H,function(y,T){Ft(m,T,y)}),u.l&&js({},function(y,T){Ft(m,T,y)})}function Ro(u,m,y){y=Math.min(u.i.length,y);var T=u.l?V(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const W=["count="+y];j==-1?0<y?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Vt=!0;for(let ve=0;ve<y;ve++){let Nt=L[ve].g;const Ce=L[ve].map;if(Nt-=j,0>Nt)j=Math.max(0,L[ve].g-100),Vt=!1;else try{qn(Ce,W,"req"+Nt+"_")}catch{T&&T(Ce)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Co(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ot||(et(),ot=!0),Pt.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(V(u.Fa,u),Zs(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Do(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(V(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),za(this),Do(this))};function Xr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Do(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=jr(an(m)),y.m=null,y.P=!0,hi(y,u)}a.Za=function(){this.C!=null&&(this.C=null,za(this),Xs(this),Wt(19))};function ka(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Io(u,m){var y=null;if(u.g==m){ka(u),Xr(u),u.g=null;var T=2}else if(ks(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=ki(),qt(T,new _e(T,y)),Pa(u)}else Co(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Mc(u,m)||T==2&&Xs(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Zs(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var y=V(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Br(T,"https"),jr(T),L?Hr(T.toString(),y):Nn(T.toString(),y)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Vo(u),wo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function No(u,m,y){var T=y instanceof de?an(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new de(null);T&&Br(j,T),m&&(j.g=m),L&&Gi(j,L),y&&(j.l=y),T=j}return y=u.D,m=u.ya,y&&m&&Ft(T,y,m),Ft(T,"VER",u.la),Kr(u,T),T}function Oo(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Fi({eb:y})):new Bt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}a=xo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ba(){}Ba.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ae.call(this),this.g=new La(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}Z(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ys(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=In(u),u=y);m.i.push(new Eo(m.Ya++,u)),m.G==3&&Pa(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Ze.aa.N.call(this)};function Mo(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Mo,ui);function Uo(){Us.call(this),this.status=1}Z(Uo,Us);function Qn(u){this.g=u}Z(Qn,xo),Qn.prototype.ua=function(){qt(this.g,"a")},Qn.prototype.ta=function(u){qt(this.g,new Mo(u))},Qn.prototype.sa=function(u){qt(this.g,new Uo)},Qn.prototype.ra=function(){qt(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,tv=function(){return new Ba},W_=function(){return ki()},J_=zn,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,ju=qi,ci.COMPLETE="complete",$_=ci,Ms.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,kl=Ms,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Z_=Bt}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",My="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new md("@firebase/firestore");function gs(){return ga.logLevel}function rt(a,...e){if(ga.logLevel<=Mt.DEBUG){const i=e.map(yd);ga.debug(`Firestore (${ws}): ${a}`,...i)}}function Li(a,...e){if(ga.logLevel<=Mt.ERROR){const i=e.map(yd);ga.error(`Firestore (${ws}): ${a}`,...i)}}function Er(a,...e){if(ga.logLevel<=Mt.WARN){const i=e.map(yd);ga.warn(`Firestore (${ws}): ${a}`,...i)}}function yd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,ev(a,s,i)}function ev(a,e,i){let s=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function jt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||ev(e,o,s)}function vt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Cr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class CA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class DA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new nv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class IA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new IA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Uy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function bt(a,e){return a<e?-1:a>e?1:0}function Xf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return bt(s,o);{const h=iv(),d=xA(h.encode(Ly(a,i)),h.encode(Ly(e,i)));return d!==0?d:bt(s,o)}}i+=s>65535?2:1}return bt(a.length,e.length)}function Ly(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function xA(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return bt(a[i],e[i]);return bt(a.length,e.length)}function Es(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&mt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class ne extends Wn{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ne(i)}static emptyPath(){return new ne([])}}const MA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return MA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zy}static keyField(){return new Be([zy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ne.fromString(e))}static fromName(e){return new ct(ne.fromString(e).popFirst(5))}static empty(){return new ct(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(a,e,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function LA(a,e,i,s){if(e===!0&&s===!0)throw new lt(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Py(a){if(!ct.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function rv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function vd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function Jl(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vd(a);throw new lt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(a,e){const i={typeString:a};return e&&(i.value=e),i}function so(a,e){if(!rv(a))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,By=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*By);return new Jt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ky)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(so(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:ye("string",Jt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Jt(0,0))}static max(){return new _t(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function zA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new Tr(o,ct.empty(),e)}function PA(a){return new Tr(a.readTime,a.key,Wl)}class Tr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Tr(_t.min(),ct.empty(),Wl)}static max(){return new Tr(_t.max(),ct.empty(),Wl)}}function kA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,e.documentKey),i!==0?i:bt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==BA)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const v=p;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Y((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function qA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}hc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function fc(a){return a==null}function Zu(a){return a===0&&1/a==-1/0}function HA(a){return typeof a=="number"&&Number.isInteger(a)&&!Zu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="";function GA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=jy(e)),e=FA(a.get(i),e);return jy(e)}function FA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case av:i+="";break;default:i+=h}}return i}function jy(a){return a+av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function va(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function sv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Se(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new lv("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const QA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(a){if(jt(!!a,39018),typeof a=="string"){let e=0;const i=QA.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function br(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="server_timestamp",uv="__type__",cv="__previous_value__",hv="__local_write_time__";function Td(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uv])===null||i===void 0?void 0:i.stringValue)===ov}function dc(a){const e=a.mapValue.fields[cv];return Td(e)?dc(e):e}function to(a){const e=Ar(a.mapValue.fields[hv].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i,s,o,h,d,g,p,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=A}}const $u="(default)";class eo{constructor(e,i){this.projectId=e,this.database=i||$u}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===$u}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__type__",KA="__max__",Pu={mapValue:{}},dv="__vector__",Ju="value";function Sr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Td(a)?4:ZA(a)?9007199254740991:XA(a)?10:11:mt(28295,{value:a})}function ai(a,e){if(a===e)return!0;const i=Sr(a);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return to(a).isEqual(to(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ar(o.timestampValue),g=Ar(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return br(o.bytesValue).isEqual(br(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?Zu(d)===Zu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Es(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(qy(d)!==qy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ai(d[p],g[p])))return!1;return!0}(a,e);default:return mt(52216,{left:a})}}function no(a,e){return(a.values||[]).find(i=>ai(i,e))!==void 0}function Ts(a,e){if(a===e)return 0;const i=Sr(a),s=Sr(e);if(i!==s)return bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return Gy(a.timestampValue,e.timestampValue);case 4:return Gy(to(a),to(e));case 5:return Xf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=br(h),p=br(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=bt(g[v],p[v]);if(A!==0)return A}return bt(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(he(h.latitude),he(d.latitude));return g!==0?g:bt(he(h.longitude),he(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Fy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,v,A;const C=h.fields||{},V=d.fields||{},q=(g=C[Ju])===null||g===void 0?void 0:g.arrayValue,Z=(p=V[Ju])===null||p===void 0?void 0:p.arrayValue,it=bt(((v=q?.values)===null||v===void 0?void 0:v.length)||0,((A=Z?.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Fy(q,Z)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Pu.mapValue&&d===Pu.mapValue)return 0;if(h===Pu.mapValue)return 1;if(d===Pu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const V=Xf(p[C],A[C]);if(V!==0)return V;const q=Ts(g[p[C]],v[A[C]]);if(q!==0)return q}return bt(p.length,A.length)}(a.mapValue,e.mapValue);default:throw mt(23264,{le:i})}}function Gy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return bt(a,e);const i=Ar(a),s=Ar(e),o=bt(i.seconds,s.seconds);return o!==0?o:bt(i.nanos,s.nanos)}function Fy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Ts(i[o],s[o]);if(h)return h}return bt(i.length,s.length)}function As(a){return Zf(a)}function Zf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ar(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return br(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ct.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Zf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"}(a.mapValue):mt(61005,{value:a})}function qu(a){switch(Sr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(a);return e?16+qu(e):16;case 5:return 2*a.stringValue.length;case 6:return br(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+qu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return va(s.fields,(h,d)=>{o+=h.length+qu(d)}),o}(a.mapValue);default:throw mt(13486,{value:a})}}function $f(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function Qy(a){return!!a&&"nullValue"in a}function Yy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Hu(a){return!!a&&"mapValue"in a}function XA(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fv])===null||i===void 0?void 0:i.stringValue)===dv}function Gl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return va(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function ZA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===KA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Hu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Gl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Hu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){va(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Rn(Gl(this.value))}}function mv(a){const e=[];return va(a.fields,(i,s)=>{const o=new Be([i]);if(Hu(s)){const h=mv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,_t.min(),_t.min(),_t.min(),Rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,_t.min(),_t.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,_t.min(),_t.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i){this.position=e,this.inclusive=i}}function Ky(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Ts(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function $A(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{}class be extends gv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new WA(e,i,s):i==="array-contains"?new nb(e,s):i==="in"?new ib(e,s):i==="not-in"?new rb(e,s):i==="array-contains-any"?new ab(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new tb(e,s):new eb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ts(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(Ts(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends gv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new si(e,i)}matches(e){return pv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function pv(a){return a.op==="and"}function yv(a){return JA(a)&&pv(a)}function JA(a){for(const e of a.filters)if(e instanceof si)return!1;return!0}function Jf(a){if(a instanceof be)return a.field.canonicalString()+a.op.toString()+As(a.value);if(yv(a))return a.filters.map(e=>Jf(e)).join(",");{const e=a.filters.map(i=>Jf(i)).join(",");return`${a.op}(${e})`}}function _v(a,e){return a instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(a,e):a instanceof si?function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&_v(d,o.filters[g]),!0):!1}(a,e):void mt(19439)}function vv(a){return a instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${As(i.value)}`}(a):a instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(vv).join(" ,")+"}"}(a):"Filter"}class WA extends be{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class tb extends be{constructor(e,i){super(e,"in",i),this.keys=Ev("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class eb extends be{constructor(e,i){super(e,"not-in",i),this.keys=Ev("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Ev(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class nb extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&no(i.arrayValue,this.value)}}class ib extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&no(this.value.arrayValue,i)}}class rb extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!no(this.value.arrayValue,i)}}class ab extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>no(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function Zy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new sb(a,e,i,s,o,h,d)}function bd(a){const e=vt(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Jf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>As(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>As(s)).join(",")),e.Pe=i}return e.Pe}function Sd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!$A(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!_v(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Xy(a.startAt,e.startAt)&&Xy(a.endAt,e.endAt)}function Wf(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lb(a,e,i,s,o,h,d,g){return new mc(a,e,i,s,o,h,d,g)}function wd(a){return new mc(a)}function $y(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ob(a){return a.collectionGroup!==null}function Fl(a){const e=vt(a);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new tc(h,s))}),i.has(Be.keyField().canonicalString())||e.Te.push(new tc(Be.keyField(),s))}return e.Te}function ei(a){const e=vt(a);return e.Ie||(e.Ie=ub(e,Fl(a))),e.Ie}function ub(a,e){if(a.limitType==="F")return Zy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new tc(o.field,h)});const i=a.endAt?new Wu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Wu(a.startAt.position,a.startAt.inclusive):null;return Zy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function td(a,e,i){return new mc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function gc(a,e){return Sd(ei(a),ei(e))&&a.limitType===e.limitType}function Tv(a){return`${bd(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>vv(o)).join(", ")}]`),fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>As(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>As(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function pc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Fl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const v=Ky(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,Fl(s),o)||s.endAt&&!function(d,g,p){const v=Ky(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,Fl(s),o))}(a,e)}function cb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Av(a){return(e,i)=>{let s=!1;for(const o of Fl(a)){const h=hb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function hb(a,e,i){const s=a.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),v=g.data.field(h);return p!==null&&v!==null?Ts(p,v):mt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new ie(ct.comparator);function zi(){return fb}const bv=new ie(ct.comparator);function Bl(...a){let e=bv;for(const i of a)e=e.insert(i.key,i);return e}function Sv(a){let e=bv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function fa(){return Ql()}function wv(){return Ql()}function Ql(){return new Ea(a=>a.toString(),(a,e)=>a.isEqual(e))}const db=new ie(ct.comparator),mb=new Se(ct.comparator);function It(...a){let e=mb;for(const i of a)e=e.add(i);return e}const gb=new Se(bt);function pb(){return gb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function Rv(a){return{integerValue:""+a}}function yb(a,e){return HA(e)?Rv(e):Rd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function _b(a,e,i){return a instanceof ec?function(o,h){const d={fields:{[uv]:{stringValue:ov},[hv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Td(h)&&(h=dc(h)),h&&(d.fields[cv]=h),{mapValue:d}}(i,e):a instanceof io?Dv(a,e):a instanceof ro?Iv(a,e):function(o,h){const d=Cv(o,h),g=Jy(d)+Jy(o.Ee);return $f(d)&&$f(o.Ee)?Rv(g):Rd(o.serializer,g)}(a,e)}function vb(a,e,i){return a instanceof io?Dv(a,e):a instanceof ro?Iv(a,e):i}function Cv(a,e){return a instanceof nc?function(s){return $f(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class ec extends yc{}class io extends yc{constructor(e){super(),this.elements=e}}function Dv(a,e){const i=Vv(e);for(const s of a.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class ro extends yc{constructor(e){super(),this.elements=e}}function Iv(a,e){let i=Vv(e);for(const s of a.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class nc extends yc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function Jy(a){return he(a.integerValue||a.doubleValue)}function Vv(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Eb(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof io&&o instanceof io||s instanceof ro&&o instanceof ro?Es(s.elements,o.elements,ai):s instanceof nc&&o instanceof nc?ai(s.Ee,o.Ee):s instanceof ec&&o instanceof ec}(a.transform,e.transform)}class Tb{constructor(e,i){this.version=e,this.transformResults=i}}class xi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class _c{}function Nv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new xv(a.key,xi.none()):new lo(a.key,a.data,xi.none());{const i=a.data,s=Rn.empty();let o=new Se(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ta(a.key,s,new Un(o.toArray()),xi.none())}}function Ab(a,e,i){a instanceof lo?function(o,h,d){const g=o.value.clone(),p=t_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ta?function(o,h,d){if(!Gu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=t_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Ov(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Yl(a,e,i,s){return a instanceof lo?function(h,d,g,p){if(!Gu(h.precondition,d))return g;const v=h.value.clone(),A=e_(h.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof Ta?function(h,d,g,p){if(!Gu(h.precondition,d))return g;const v=e_(h.fieldTransforms,p,d),A=d.data;return A.setAll(Ov(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(a,e,i,s):function(h,d,g){return Gu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function bb(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Cv(s.transform,o||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(s.field,h))}return i||null}function Wy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Es(s,o,(h,d)=>Eb(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class lo extends _c{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends _c{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function t_(a,e,i){const s=new Map;jt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,vb(d,g,i[o]))}return s}function e_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,_b(h,d,e))}return s}class xv extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sb extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Ab(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=wv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=Nv(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(i,s)=>Wy(i,s))&&Es(this.baseMutations,e.baseMutations,(i,s)=>Wy(i,s))}}class Cd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return db}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Cd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function Db(a){switch(a){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function Mv(a){if(a===void 0)return Li("GRPC error has no .code"),X.UNKNOWN;switch(a){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:a})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new yr([4294967295,4294967295],0);function n_(a){const e=iv().encode(a),i=new X_;return i.update(e),new Uint8Array(i.digest())}function i_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new yr([i,s],0),new yr([o,h],0)]}class Dd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=yr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(yr.fromNumber(s)));return o.compare(Ib)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=n_(e),[s,o]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Dd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=n_(e),[s,o]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,oo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new vc(_t.min(),o,new ie(bt),zi(),It())}}class oo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new oo(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class Uv{constructor(e,i){this.targetId=e,this.De=i}}class Lv{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class r_{constructor(){this.ve=0,this.Ce=a_(),this.Fe=je.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=It(),i=It(),s=It();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:mt(38017,{changeType:h})}}),new oo(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=a_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Vb{constructor(e){this.We=e,this.Ge=new Map,this.ze=zi(),this.je=ku(),this.Je=ku(),this.He=new ie(bt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:mt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const h=o.target;if(Wf(h))if(s===0){const d=new ct(h.path);this.Xe(i,d,Ye.newNoDocument(d,_t.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),p=g?this.ut(g,e,d):1;if(p!==0){this.rt(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=br(s).toUint8Array()}catch(p){if(p instanceof lv)return Er("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Dd(d,o,h)}catch(p){return Er(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&Wf(g.target)){const p=new ct(g.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,Ye.newNoDocument(p,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let s=It();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.st(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new vc(e,i,this.He,this.ze,s);return this.ze=zi(),this.je=ku(),this.Je=ku(),this.He=new ie(bt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new r_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Se(bt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Se(bt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new r_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function ku(){return new ie(ct.comparator)}function a_(){return new ie(ct.comparator)}const Nb={asc:"ASCENDING",desc:"DESCENDING"},Ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xb={and:"AND",or:"OR"};class Mb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ed(a,e){return a.useProto3Json||fc(e)?e:{value:e}}function ic(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Ub(a,e){return ic(a,e.toTimestamp())}function ni(a){return jt(!!a,49232),_t.fromTimestamp(function(i){const s=Ar(i);return new Jt(s.seconds,s.nanos)}(a))}function Id(a,e){return nd(a,e).canonicalString()}function nd(a,e){const i=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Pv(a){const e=ne.fromString(a);return jt(Hv(e),10190,{key:e.toString()}),e}function id(a,e){return Id(a.databaseId,e.path)}function Lf(a,e){const i=Pv(e);if(i.get(1)!==a.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(Bv(i))}function kv(a,e){return Id(a.databaseId,e)}function Lb(a){const e=Pv(a);return e.length===4?ne.emptyPath():Bv(e)}function rd(a){return new ne(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Bv(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function s_(a,e,i){return{name:id(a,e),fields:i.value.mapValue.fields}}function zb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:Mv(v.code);return new lt(A,v.message||"")}(d);i=new Lv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):_t.min(),g=new Rn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Fu(v,A,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lf(a,s.document),h=s.readTime?ni(s.readTime):_t.min(),d=Ye.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Fu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lf(a,s.document),h=s.removedTargetIds||[];i=new Fu([],h,o,null)}else{if(!("filter"in e))return mt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new Cb(o,h),g=s.targetId;i=new Uv(g,d)}}return i}function Pb(a,e){let i;if(e instanceof lo)i={update:s_(a,e.key,e.value)};else if(e instanceof xv)i={delete:id(a,e.key)};else if(e instanceof Ta)i={update:s_(a,e.key,e.data),updateMask:Yb(e.fieldMask)};else{if(!(e instanceof Sb))return mt(16599,{Rt:e.type});i={verify:id(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof ec)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof io)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw mt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Ub(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)}(a,e.precondition)),i}function kb(a,e){return a&&a.length>0?(jt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(_t.min())&&(d=ni(h)),new Tb(d,o.transformResults||[])}(i,e))):[]}function Bb(a,e){return{documents:[kv(a,e.path)]}}function jb(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=kv(a,o);const h=function(v){if(v.length!==0)return qv(si.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(V){return{field:ys(V.field),direction:Gb(V.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ed(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:o}}function qb(a){let e=Lb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const V=jv(C);return V instanceof si&&yv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(V=>function(Z){return new tc(_s(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(C){let V;return V=typeof C=="object"?C.value:C,fc(V)?null:V}(i.limit));let p=null;i.startAt&&(p=function(C){const V=!!C.before,q=C.values||[];return new Wu(q,V)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const V=!C.before,q=C.values||[];return new Wu(q,V)}(i.endAt)),lb(e,o,d,h,g,"F",p,v)}function Hb(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function jv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_s(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(a):a.fieldFilter!==void 0?function(i){return be.create(_s(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(s=>jv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(i.compositeFilter.op))}(a):mt(30097,{filter:a})}function Gb(a){return Nb[a]}function Fb(a){return Ob[a]}function Qb(a){return xb[a]}function ys(a){return{fieldPath:a.canonicalString()}}function _s(a){return Be.fromServerFormat(a.fieldPath)}function qv(a){return a instanceof be?function(i){if(i.op==="=="){if(Yy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Yy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:Fb(i.op),value:i.value}}}(a):a instanceof si?function(i){const s=i.getFilters().map(o=>qv(o));return s.length===1?s[0]:{compositeFilter:{op:Qb(i.op),filters:s}}}(a):mt(54877,{filter:a})}function Yb(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Hv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s,o,h=_t.min(),d=_t.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.gt=e}}function Xb(a){const e=qb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.Dn=new $b}addToCollectionParentIndex(e,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Tr.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class $b{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Se(ne.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Se(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Gv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bs(0)}static ur(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LruGarbageCollector",Jb=1048576;function u_([a,e],[i,s]){const o=bt(a,i);return o===0?bt(e,s):o}class Wb{constructor(e){this.Tr=e,this.buffer=new Se(u_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();u_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){rt(o_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cs(i)?rt(o_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Rr(3e5)})}}class eS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(hc.ue);const s=new Wb(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(l_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,h,d,g,p,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(h=C,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),gs()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C})))}}function nS(a,e){return new eS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.changes=new Ea(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Yl(s.mutation,o,Un.empty(),Jt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const o=fa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=fa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=zi();const d=Ql(),g=function(){return Ql()}();return i.forEach((p,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Ta)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Yl(A.mutation,v,A.mutation.getFieldMask(),Jt.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new rS(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new ie((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=s.get(p)||Un.empty();A=g.applyToLocalView(v,A),s.set(p,A);const C=(o.get(g.batchId)||It()).add(p);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,C=wv();A.forEach(V=>{if(!h.has(V)){const q=Nv(i.get(V),s.get(V));q!==null&&C.set(V,q),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ob(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Y.resolve(fa());let g=Wl,p=h;return d.next(v=>Y.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{p=p.insert(A,V)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,p,v,It())).next(A=>({batchId:g,changes:Sv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,p=>{const v=function(C,V){return new mc(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((C,V)=>{d=d.insert(C,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Bl();return d.forEach((p,v)=>{const A=h.get(p);A!==void 0&&Yl(A.mutation,v,Un.empty(),Jt.now()),pc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:Xb(o.bundledQuery),readTime:ni(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.overlays=new ie(ct.comparator),this.kr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fa();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.wt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=fa(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=fa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=fa(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Rb(i,s));let h=this.kr.get(i);h===void 0&&(h=It(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.qr=new Se(Ne.Qr),this.$r=new Se(Ne.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Ne(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Ne(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new ct(new ne([])),s=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ct(new ne([])),s=new Ne(i,e),o=new Ne(i,e+1);let h=It();return this.$r.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ct.comparator(e.key,i.key)||bt(e.Hr,i.Hr)}static Ur(e,i){return bt(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Se(Ne.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ed:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Se(bt);return i.forEach(o=>{const h=new Ne(o,0),d=new Ne(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{s=s.add(g.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ct(h),0);let g=new Se(bt);return this.Yr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(p.Hr)),!0)},d),Y.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(i.mutations,o=>{const h=new Ne(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Ne(i,0),o=this.Yr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.ni=e,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=zi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||kA(PA(A),s)<=0||(o.has(A.key)||pc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,o){mt(9500)}ri(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new hS(this)}getSize(e){return Y.resolve(this.size)}}class hS extends iS{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.persistence=e,this.ii=new Ea(i=>bd(i),Sd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.si=0,this.oi=new Vd,this.targetCount=0,this._i=bs.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),Y.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new bs(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.hr(i),Y.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i){this.ai={},this.overlays={},this.ui=new hc(0),this.ci=!1,this.ci=!0,this.li=new oS,this.referenceDelegate=e(this),this.hi=new fS(this),this.indexManager=new Zb,this.remoteDocumentCache=function(o){return new cS(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Kb(i),this.Ti=new sS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new uS(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const o=new dS(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class dS extends jA{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Ai=new Vd,this.Ri=null}static Vi(e){return new Nd(e)}get mi(){if(this.Ri)return this.Ri;throw mt(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const o=ct.fromPath(s);return this.fi(e,o).next(h=>{h||i.removeEntry(o,_t.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.gi=new Ea(s=>GA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=nS(this,i)}static Vi(e,i){return new rc(e,i)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return Y.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qu(e.data.value)),i}Sr(e,i,s){return Y.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Od(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return l1()?8:qA(r1())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new mS;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(gs()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(gs()<=Mt.DEBUG&&rt("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(gs()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Y.resolve())}ps(e,i){if($y(i))return Y.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=td(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=It(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const v=this.bs(i,g);return this.Ds(i,v,d,p.readTime)?this.ps(e,td(i,null,"F")):this.vs(e,v,i,p)}))})))}ys(e,i,s,o){return $y(i)||o.isEqual(_t.min())?Y.resolve(null):this.gs.getDocuments(e,s).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?Y.resolve(null):(gs()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.vs(e,d,i,zA(o,Wl)).next(g=>g))})}bs(e,i){let s=new Se(Av(e));return i.forEach((o,h)=>{pc(e,h)&&(s=s.add(h))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,s){return gs()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ps(i)),this.gs.getDocumentsMatchingQuery(e,i,Tr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",pS=3e8;class yS{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ie(bt),this.Ms=new Ea(h=>bd(h),Sd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aS(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function _S(a,e,i,s){return new yS(a,e,i,s)}async function Qv(a,e){const i=vt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function vS(a,e){const i=vt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const C=v.batch,V=C.keys();let q=Y.resolve();return V.forEach(Z=>{q=q.next(()=>A.getEntry(p,Z)).next(it=>{const J=v.docVersions.get(Z);jt(J!==null,48541),it.version.compareTo(J)<0&&(C.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Yv(a){const e=vt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function ES(a,e){const i=vt(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,C)=>{const V=o.get(C);if(!V)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,C)));let q=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?q=q.withResumeToken(je.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(C,q),function(it,J,St){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=pS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(V,q,A)&&g.push(i.hi.updateTargetData(h,q))});let p=zi(),v=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(TS(h,d,e.documentUpdates).next(A=>{p=A.Ls,v=A.ks})),!s.isEqual(_t.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(C=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,v)).next(()=>p)}).then(h=>(i.Fs=o,h))}function TS(a,e,i){let s=It(),o=It();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=zi();return i.forEach((g,p)=>{const v=h.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(_t.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):rt(xd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Ls:d,ks:o}})}function AS(a,e){const i=vt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bS(a,e){const i=vt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(h=>h?(o=h,Y.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function ad(a,e,i){const s=vt(a),o=s.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Cs(d))throw d;rt(xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function c_(a,e,i){const s=vt(a);let o=_t.min(),h=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const C=vt(p),V=C.Ms.get(A);return V!==void 0?Y.resolve(C.Fs.get(V)):C.hi.getTargetData(v,A)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:It())).next(g=>(SS(s,cb(e),g),{documents:g,qs:h})))}function SS(a,e,i){let s=a.xs.get(e)||_t.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.xs.set(e,s)}class h_{constructor(){this.activeTargetIds=pb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wS{constructor(){this.Fo=new h_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new h_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="ConnectivityMonitor";class d_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){rt(f_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){rt(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function sd(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",CS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$u?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=sd(),g=this.Go(e,i.toUriEncodedString());rt(zf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,h);const{host:v}=new URL(g),A=dd(v);return this.jo(e,g,p,s,A).then(C=>(rt(zf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw Er(zf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ws}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const s=CS[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class VS extends DS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,h){const d=sd();return new Promise((g,p)=>{const v=new Z_;v.setWithCredentials(!0),v.listenOnce($_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ju.NO_ERROR:const C=v.getResponseJson();rt(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case ju.TIMEOUT:rt(Fe,`RPC '${e}' ${d} timed out`),p(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const V=v.getStatus();if(rt(Fe,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const it=function(St){const pt=St.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pt)>=0?pt:X.UNKNOWN}(Z.status);p(new lt(it,Z.message))}else p(new lt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new lt(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{rt(Fe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);rt(Fe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}P_(e,i,s){const o=sd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tv(),g=W_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=h.join("");rt(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,p);const C=d.createWebChannel(A,p);this.T_(C);let V=!1,q=!1;const Z=new IS({Ho:J=>{q?rt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(V||(rt(Fe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),V=!0),rt(Fe,`RPC '${e}' stream ${o} sending:`,J),C.send(J))},Yo:()=>C.close()}),it=(J,St,pt)=>{J.listen(St,dt=>{try{pt(dt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return it(C,kl.EventType.OPEN,()=>{q||(rt(Fe,`RPC '${e}' stream ${o} transport opened.`),Z.s_())}),it(C,kl.EventType.CLOSE,()=>{q||(q=!0,rt(Fe,`RPC '${e}' stream ${o} transport closed`),Z.__(),this.I_(C))}),it(C,kl.EventType.ERROR,J=>{q||(q=!0,Er(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),Z.__(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),it(C,kl.EventType.MESSAGE,J=>{var St;if(!q){const pt=J.data[0];jt(!!pt,16349);const dt=pt,Ut=dt?.error||((St=dt[0])===null||St===void 0?void 0:St.error);if(Ut){rt(Fe,`RPC '${e}' stream ${o} received error:`,Ut);const Et=Ut.status;let zt=function(R){const N=pe[R];if(N!==void 0)return Mv(N)}(Et),O=Ut.message;zt===void 0&&(zt=X.INTERNAL,O="Unknown error status: "+Et+" with message "+Ut.message),q=!0,Z.__(new lt(zt,O)),C.close()}else rt(Fe,`RPC '${e}' stream ${o} received:`,pt),Z.a_(pt)}}),it(g,J_.STAT_EVENT,J=>{J.stat===Kf.PROXY?rt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Kf.NOPROXY&&rt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.o_()},0),Z}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(a){return new Mb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class Xv{constructor(e,i,s,o,h,d,g,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Kv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new lt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return rt(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(rt(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NS extends Xv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=zb(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=rd(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=Wf(p)?{documents:Bb(h,p)}:{query:jb(h,p).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=zv(h,d.resumeToken);const v=ed(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=ic(h,d.snapshotVersion.toTimestamp());const v=ed(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=Hb(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=rd(this.serializer),i.removeTarget=e,this.k_(i)}}class OS extends Xv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=kb(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=rd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Pb(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{}class MS extends xS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,nd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(X.UNKNOWN,h.toString())})}Jo(e,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,nd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class US{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(i),this._a=!1):rt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class LS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Aa(this)&&(rt(pa,"Restarting streams for network reachability change."),await async function(p){const v=vt(p);v.Ia.add(4),await uo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Tc(v)}(this))})}),this.Aa=new US(s,o)}}async function Tc(a){if(Aa(a))for(const e of a.da)await e(!0)}async function uo(a){for(const e of a.da)await e(!1)}function Zv(a,e){const i=vt(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),zd(i)?Ld(i):Ds(i).x_()&&Ud(i,e))}function Md(a,e){const i=vt(a),s=Ds(i);i.Ta.delete(e),s.x_()&&$v(i,e),i.Ta.size===0&&(s.x_()?s.B_():Aa(i)&&i.Aa.set("Unknown"))}function Ud(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(a).H_(e)}function $v(a,e){a.Ra.$e(e),Ds(a).Y_(e)}function Ld(a){a.Ra=new Vb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ds(a).start(),a.Aa.aa()}function zd(a){return Aa(a)&&!Ds(a).M_()&&a.Ta.size>0}function Aa(a){return vt(a).Ia.size===0}function Jv(a){a.Ra=void 0}async function zS(a){a.Aa.set("Online")}async function PS(a){a.Ta.forEach((e,i)=>{Ud(a,e)})}async function kS(a,e){Jv(a),zd(a)?(a.Aa.la(e),Ld(a)):a.Aa.set("Unknown")}async function BS(a,e,i){if(a.Aa.set("Online"),e instanceof Lv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){rt(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ac(a,s)}else if(e instanceof Fu?a.Ra.Ye(e):e instanceof Uv?a.Ra.it(e):a.Ra.et(e),!i.isEqual(_t.min()))try{const s=await Yv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=h.Ta.get(p);if(!A)return;h.Ta.set(p,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),$v(h,p);const C=new dr(A.target,p,v,A.sequenceNumber);Ud(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){rt(pa,"Failed to raise snapshot:",s),await ac(a,s)}}async function ac(a,e,i){if(!Cs(e))throw e;a.Ia.add(1),await uo(a),a.Aa.set("Offline"),i||(i=()=>Yv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(pa,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Tc(a)})}function Wv(a,e){return e().catch(i=>ac(a,i,e))}async function Ac(a){const e=vt(a),i=wr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ed;for(;jS(e);)try{const o=await AS(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,qS(e,o)}catch(o){await ac(e,o)}t0(e)&&e0(e)}function jS(a){return Aa(a)&&a.Pa.length<10}function qS(a,e){a.Pa.push(e);const i=wr(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function t0(a){return Aa(a)&&!wr(a).M_()&&a.Pa.length>0}function e0(a){wr(a).start()}async function HS(a){wr(a).na()}async function GS(a){const e=wr(a);for(const i of a.Pa)e.X_(i.mutations)}async function FS(a,e,i){const s=a.Pa.shift(),o=Cd.from(s,e,i);await Wv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Ac(a)}async function QS(a,e){e&&wr(a).Z_&&await async function(s,o){if(function(d){return Db(d)&&d!==X.ABORTED}(o.code)){const h=s.Pa.shift();wr(s).N_(),await Wv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Ac(s)}}(a,e),t0(a)&&e0(a)}async function g_(a,e){const i=vt(a);i.asyncQueue.verifyOperationInProgress(),rt(pa,"RemoteStore received new credentials");const s=Aa(i);i.Ia.add(3),await uo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Tc(i)}async function YS(a,e){const i=vt(a);e?(i.Ia.delete(2),await Tc(i)):e||(i.Ia.add(2),await uo(i),i.Aa.set("Unknown"))}function Ds(a){return a.Va||(a.Va=function(i,s,o){const h=vt(i);return h.ia(),new NS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:zS.bind(null,a),e_:PS.bind(null,a),n_:kS.bind(null,a),J_:BS.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),zd(a)?Ld(a):a.Aa.set("Unknown")):(await a.Va.stop(),Jv(a))})),a.Va}function wr(a){return a.ma||(a.ma=function(i,s,o){const h=vt(i);return h.ia(),new OS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:HS.bind(null,a),n_:QS.bind(null,a),ea:GS.bind(null,a),ta:FS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await Ac(a)):(await a.ma.stop(),a.Pa.length>0&&(rt(pa,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Pd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Cs(a))return new lt(X.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.fa=new ie(ct.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):mt(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ss{constructor(e,i,s,o,h,d,g,p,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ss(e,i,vs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class XS{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=vt(i),h=o.queries;o.queries=y_(),h.forEach((d,g)=>{for(const p of g.wa)p.onError(s)})})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function y_(){return new Ea(a=>Tv(a),gc)}async function ZS(a,e){const i=vt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(s=2):(h=new KS,s=e.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=kd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Bd(i)}async function $S(a,e){const i=vt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function JS(a,e){const i=vt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Bd(i)}function WS(a,e,i){const s=vt(a),o=s.queries.get(e);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(e)}function Bd(a){a.Da.forEach(e=>{e.next()})}var ld,__;(__=ld||(ld={})).Fa="default",__.Cache="cache";class t2{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.key=e}}class i0{constructor(e){this.key=e}}class e2{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=It(),this.mutatedKeys=It(),this.Xa=Av(e),this.eu=new vs(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new p_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,C)=>{const V=o.get(A),q=pc(this.query,C)?C:null,Z=!!V&&this.mutatedKeys.has(V.key),it=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;V&&q?V.data.isEqual(q.data)?Z!==it&&(s.track({type:3,doc:q}),J=!0):this.iu(V,q)||(s.track({type:2,doc:q}),J=!0,(p&&this.Xa(q,p)>0||v&&this.Xa(q,v)<0)&&(g=!0)):!V&&q?(s.track({type:0,doc:q}),J=!0):V&&!q&&(s.track({type:1,doc:V}),J=!0,(p||v)&&(g=!0)),J&&(q?(d=d.add(q),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,C)=>function(q,Z){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{At:J})}};return it(q)-it(Z)}(A.type,C.type)||this.Xa(A.doc,C.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,v=p!==this.Ya;return this.Ya=p,d.length!==0||v?{snapshot:new Ss(this.query,e.eu,h,d,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new p_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=It(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new i0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new n0(s))}),i}uu(e){this.Ha=e.qs,this.Za=It();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Ss.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jd="SyncEngine";class n2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class i2{constructor(e){this.key=e,this.lu=!1}}class r2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Ea(g=>Tv(g),gc),this.Tu=new Map,this.Iu=new Set,this.du=new ie(ct.comparator),this.Eu=new Map,this.Au=new Vd,this.Ru={},this.Vu=new Map,this.mu=bs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function a2(a,e,i=!0){const s=u0(a);let o;const h=s.Pu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await r0(s,e,i,!0),o}async function s2(a,e){const i=u0(a);await r0(i,e,!0,!1)}async function r0(a,e,i,s){const o=await bS(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await l2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Zv(a.remoteStore,o),g}async function l2(a,e,i,s,o){a.gu=(C,V,q)=>async function(it,J,St,pt){let dt=J.view.nu(St);dt.Ds&&(dt=await c_(it.localStore,J.query,!1).then(({documents:O})=>J.view.nu(O,dt)));const Ut=pt&&pt.targetChanges.get(J.targetId),Et=pt&&pt.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(dt,it.isPrimaryClient,Ut,Et);return E_(it,J.targetId,zt._u),zt.snapshot}(a,C,V,q);const h=await c_(a.localStore,e,!0),d=new e2(e,h.qs),g=d.nu(h.documents),p=oo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,p);E_(a,i,v._u);const A=new n2(e,i,d);return a.Pu.set(e,A),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),v.snapshot}async function o2(a,e,i){const s=vt(a),o=s.Pu.get(e),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter(d=>!gc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Md(s.remoteStore,o.targetId),od(s,o.targetId)}).catch(Rs)):(od(s,o.targetId),await ad(s.localStore,o.targetId,!0))}async function u2(a,e){const i=vt(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Md(i.remoteStore,s.targetId))}async function c2(a,e,i){const s=y2(a);try{const o=await function(d,g){const p=vt(d),v=Jt.now(),A=g.reduce((q,Z)=>q.add(Z.key),It());let C,V;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=zi(),it=It();return p.Os.getEntries(q,A).next(J=>{Z=J,Z.forEach((St,pt)=>{pt.isValidDocument()||(it=it.add(St))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,Z)).next(J=>{C=J;const St=[];for(const pt of g){const dt=bb(pt,C.get(pt.key).overlayedDocument);dt!=null&&St.push(new Ta(pt.key,dt,mv(dt.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,v,St,g)}).next(J=>{V=J;const St=J.applyToLocalDocumentSet(C,it);return p.documentOverlayCache.saveOverlays(q,J.batchId,St)})}).then(()=>({batchId:V.batchId,changes:Sv(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let v=d.Ru[d.currentUser.toKey()];v||(v=new ie(bt)),v=v.insert(g,p),d.Ru[d.currentUser.toKey()]=v}(s,o.batchId,i),await co(s,o.changes),await Ac(s.remoteStore)}catch(o){const h=kd(o,"Failed to persist write");i.reject(h)}}async function a0(a,e){const i=vt(a);try{const s=await ES(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?jt(d.lu,14607):o.removedDocuments.size>0&&(jt(d.lu,42227),d.lu=!1))}),await co(i,s,e)}catch(s){await Rs(s)}}function v_(a,e,i){const s=vt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=vt(d);p.onlineState=g;let v=!1;p.queries.forEach((A,C)=>{for(const V of C.wa)V.va(g)&&(v=!0)}),v&&Bd(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h2(a,e,i){const s=vt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new ie(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,_t.min()));const g=It().add(h),p=new vc(_t.min(),new Map,new ie(bt),d,g);await a0(s,p),s.du=s.du.remove(h),s.Eu.delete(e),qd(s)}else await ad(s.localStore,e,!1).then(()=>od(s,e,i)).catch(Rs)}async function f2(a,e){const i=vt(a),s=e.batch.batchId;try{const o=await vS(i.localStore,e);l0(i,s,null),s0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await co(i,o)}catch(o){await Rs(o)}}async function d2(a,e,i){const s=vt(a);try{const o=await function(d,g){const p=vt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(C=>(jt(C!==null,37113),A=C.keys(),p.mutationQueue.removeMutationBatch(v,C))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(s.localStore,e);l0(s,e,i),s0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await co(s,o)}catch(o){await Rs(o)}}function s0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function l0(a,e,i){const s=vt(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function od(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||o0(a,s)})}function o0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Md(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),qd(a))}function E_(a,e,i){for(const s of i)s instanceof n0?(a.Au.addReference(s.key,e),m2(a,s)):s instanceof i0?(rt(jd,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||o0(a,s.key)):mt(19791,{yu:s})}function m2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(rt(jd,"New document in limbo: "+i),a.Iu.add(s),qd(a))}function qd(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new ct(ne.fromString(e)),s=a.mu.next();a.Eu.set(s,new i2(i)),a.du=a.du.insert(i,s),Zv(a.remoteStore,new dr(ei(wd(i.path)),s,"TargetPurposeLimboResolution",hc.ue))}}async function co(a,e,i){const s=vt(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,p)=>{d.push(s.gu(p,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(A=i?.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){o.push(v);const C=Od.Es(p.targetId,v);h.push(C)}}))}),await Promise.all(d),s.hu.J_(o),await async function(p,v){const A=vt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Y.forEach(v,V=>Y.forEach(V.Is,q=>A.persistence.referenceDelegate.addReference(C,V.targetId,q)).next(()=>Y.forEach(V.ds,q=>A.persistence.referenceDelegate.removeReference(C,V.targetId,q)))))}catch(C){if(!Cs(C))throw C;rt(xd,"Failed to update sequence numbers: "+C)}for(const C of v){const V=C.targetId;if(!C.fromCache){const q=A.Fs.get(V),Z=q.snapshotVersion,it=q.withLastLimboFreeSnapshotVersion(Z);A.Fs=A.Fs.insert(V,it)}}}(s.localStore,h))}async function g2(a,e){const i=vt(a);if(!i.currentUser.isEqual(e)){rt(jd,"User change. New user:",e.toKey());const s=await Qv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(p=>{p.reject(new lt(X.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await co(i,s.Bs)}}function p2(a,e){const i=vt(a),s=i.Eu.get(e);if(s&&s.lu)return It().add(s.key);{let o=It();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function u0(a){const e=vt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h2.bind(null,e),e.hu.J_=JS.bind(null,e.eventManager),e.hu.pu=WS.bind(null,e.eventManager),e}function y2(a){const e=vt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return _S(this.persistence,new gS,e.initialUser,this.serializer)}Du(e){return new Fv(Nd.Vi,this.serializer)}bu(e){return new wS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class _2 extends sc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){jt(this.persistence.referenceDelegate instanceof rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tS(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Fv(s=>rc.Vi(s,i),this.serializer)}}class ud{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XS}()}createDatastore(e){const i=Ec(e.databaseInfo.databaseId),s=function(h){return new VS(h)}(e.databaseInfo);return function(h,d,g,p){return new MS(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new LS(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>v_(this.syncEngine,i,0),function(){return d_.C()?new d_:new RS}())}createSyncEngine(e,i){return function(o,h,d,g,p,v,A){const C=new r2(o,h,d,g,p,v);return A&&(C.fu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=vt(o);rt(pa,"RemoteStore shutting down."),h.Ia.add(5),await uo(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class E2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=kd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function kf(a,e){a.asyncQueue.verifyOperationInProgress(),rt(Rr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Qv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Er("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{rt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Er("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function T_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await T2(a);rt(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>g_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>g_(e.remoteStore,o)),a._onlineComponents=e}async function T2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(Rr,"Using user provided OfflineComponentProvider");try{await kf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await kf(a,new sc)}}else rt(Rr,"Using default OfflineComponentProvider"),await kf(a,new _2(void 0));return a._offlineComponents}async function c0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(Rr,"Using user provided OnlineComponentProvider"),await T_(a,a._uninitializedComponentsProvider._online)):(rt(Rr,"Using default OnlineComponentProvider"),await T_(a,new ud))),a._onlineComponents}function A2(a){return c0(a).then(e=>e.syncEngine)}async function b2(a){const e=await c0(a),i=e.eventManager;return i.onListen=a2.bind(null,e.syncEngine),i.onUnlisten=o2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=s2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=u2.bind(null,e.syncEngine),i}function S2(a,e,i={}){const s=new _r;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,v){const A=new v2({next:V=>{A.Ou(),d.enqueueAndForget(()=>$S(h,C));const q=V.docs.has(g);!q&&V.fromCache?v.reject(new lt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&V.fromCache&&p&&p.source==="server"?v.reject(new lt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),C=new t2(wd(g.path),A,{includeMetadataChanges:!0,ka:!0});return ZS(h,C)}(await b2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="firestore.googleapis.com",b_=!0;class S_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f0,this.ssl=b_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:b_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jb)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new RA;switch(s.type){case"firstParty":return new VA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=A_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),A_.delete(i),s.terminate())}(this),Promise.resolve()}}function w2(a,e,i,s={}){var o;a=Jl(a,Hd);const h=dd(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${i}`;h&&(WT(`https://${p}`),i1("Firestore",!0)),d.host!==f0&&d.host!==p&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:p,ssl:h,emulatorOptions:s});if(!Ku(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Qe.MOCK_USER;else{A=t1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Qe(V)}a._authCredentials=new CA(new nv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gd(this.firestore,e,this._query)}}class Oe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(so(i,Oe._jsonSchema))return new Oe(e,s||null,new ct(ne.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:ye("string",Oe._jsonSchemaVersion),referencePath:ye("string")};class ao extends Gd{constructor(e,i,s){super(e,i,wd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new ct(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function d0(a,e,...i){if(a=Zl(a),arguments.length===1&&(e=_d.newId()),UA("doc","path",e),a instanceof Hd){const s=ne.fromString(e,...i);return Py(s),new Oe(a,null,new ct(s))}{if(!(a instanceof Oe||a instanceof ao))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ne.fromString(e,...i));return Py(s),new Oe(a.firestore,a instanceof ao?a.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Kv(this,"async_queue_retry"),this.oc=()=>{const s=Pf();s&&rt(w_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=Pf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Pf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new _r;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Cs(e))throw e;rt(w_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",C_(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Pd.createAndSchedule(this,e,i,s,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&mt(47125,{hc:C_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function C_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Fd extends Hd{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new R_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function R2(a,e){const i=typeof a=="object"?a:gA(),s=typeof a=="string"?a:$u,o=pd(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=$T("firestore");h&&w2(o,...h)}return o}function m0(a){if(a._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||C2(a),a._firestoreClient}function C2(a){var e,i,s;const o=a._freezeSettings(),h=function(g,p,v,A){return new YA(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,h0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new E2(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(je.fromBase64String(e))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(so(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:ye("string",Cn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(so(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ye("string",ii._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(so(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ri(e.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ye("string",ri._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^__.*__$/;class I2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,i,this.fieldTransforms):new lo(e,this.data,i,this.fieldTransforms)}}function p0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ec:a})}}class Yd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return lc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(p0(this.Ec)&&D2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class V2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ec(e)}Dc(e,i,s,o=!1){return new Yd({Ec:e,methodName:i,bc:s,path:Be.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N2(a){const e=a._freezeSettings(),i=Ec(a._databaseId);return new V2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function O2(a,e,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,e,i,o);E0("Data must be an object, but it was:",d,s);const g=_0(s,d);let p,v;if(h.merge)p=new Un(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const V=x2(e,C,i);if(!d.contains(V))throw new lt(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);U2(A,V)||A.push(V)}p=new Un(A),v=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,v=d.fieldTransforms;return new I2(new Rn(g),p,v)}function y0(a,e){if(v0(a=Zl(a)))return E0("Unsupported field value:",e,a),_0(a,e);if(a instanceof g0)return function(s,o){if(!p0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=y0(g,o.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=Zl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Jt.fromDate(s);return{timestampValue:ic(o.serializer,h)}}if(s instanceof Jt){const h=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ic(o.serializer,h)}}if(s instanceof ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:zv(o.serializer,s._byteString)};if(s instanceof Oe){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ri)return function(d,g){return{mapValue:{fields:{[fv]:{stringValue:dv},[Ju]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return Rd(g.serializer,v)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${vd(s)}`)}(a,e)}function _0(a,e){const i={};return sv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(a,(s,o)=>{const h=y0(o,e.Vc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function v0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Jt||a instanceof ii||a instanceof Cn||a instanceof Oe||a instanceof g0||a instanceof ri)}function E0(a,e,i){if(!v0(i)||!rv(i)){const s=vd(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function x2(a,e,i){if((e=Zl(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return T0(a,e);throw lc("Field path arguments must be of type string or ",a,!1,void 0,i)}const M2=new RegExp("[~\\*/\\[\\]]");function T0(a,e,i){if(e.search(M2)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Qd(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function lc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new lt(X.INVALID_ARGUMENT,g+a+p)}function U2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(b0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class L2 extends A0{data(){return super.data()}}function b0(a,e){return typeof e=="string"?T0(a,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}class z2{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return va(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ju].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new ri(h)}convertGeoPoint(e){return new ii(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=dc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);jt(Hv(s),9688,{name:e});const o=new eo(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends A0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(b0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ma._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:ye("string",ma._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class Qu extends ma{data(e={}){return super.data(e)}}class Kl{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Qu(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new Qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new Qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:k2(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(a){a=Jl(a,Oe);const e=Jl(a.firestore,Fd);return S2(m0(e),a._key).then(i=>G2(e,a,i))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:ye("string",Kl._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class j2 extends z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function q2(a,e,i){a=Jl(a,Oe);const s=Jl(a.firestore,Fd),o=P2(a.converter,e);return H2(s,[O2(N2(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,xi.none())])}function H2(a,e){return function(s,o){const h=new _r;return s.asyncQueue.enqueueAndForget(async()=>c2(await A2(s),o,h)),h.promise}(m0(a),e)}function G2(a,e,i){const s=i.docs.get(e._key),o=new j2(a);return new ma(a,o,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ws=o})(mA),vr(new Mi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Fd(new DA(s.getProvider("auth-internal")),new NA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ti(xy,My,e),ti(xy,My,"esm2017")})();var F2="firebase",Q2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(F2,Q2,"app");const S0="@firebase/installations",Kd="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=1e4,R0=`w:${Kd}`,C0="FIS_v2",Y2="https://firebaseinstallations.googleapis.com/v1",K2=60*60*1e3,X2="installations",Z2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ya=new cc(X2,Z2,$2);function D0(a){return a instanceof Cr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0({projectId:a}){return`${Y2}/projects/${a}/installations`}function V0(a){return{token:a.token,requestStatus:2,expiresIn:W2(a.expiresIn),creationTime:Date.now()}}async function N0(a,e){const s=(await e.json()).error;return ya.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function O0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function J2(a,{refreshToken:e}){const i=O0(a);return i.append("Authorization",tw(e)),i}async function x0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function W2(a){return Number(a.replace("s","000"))}function tw(a){return`${C0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=I0(a),o=O0(a),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:C0,appId:a.appId,sdkVersion:R0},g={method:"POST",headers:o,body:JSON.stringify(d)},p=await x0(()=>fetch(s,g));if(p.ok){const v=await p.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:V0(v.authToken)}}else throw await N0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=/^[cdef][\w-]{21}$/,cd="";function rw(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=aw(a);return iw.test(i)?i:cd}catch{return cd}}function aw(a){return nw(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;function L0(a,e){const i=bc(a);z0(i,e),sw(i,e)}function z0(a,e){const i=U0.get(a);if(i)for(const s of i)s(e)}function sw(a,e){const i=lw();i&&i.postMessage({key:a,fid:e}),ow()}let da=null;function lw(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=a=>{z0(a.data.key,a.data.fid)}),da}function ow(){U0.size===0&&da&&(da.close(),da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebase-installations-database",cw=1,_a="firebase-installations-store";let Bf=null;function Xd(){return Bf||(Bf=F_(uw,cw,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(_a)}}})),Bf}async function oc(a,e){const i=bc(a),o=(await Xd()).transaction(_a,"readwrite"),h=o.objectStore(_a),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&L0(a,e.fid),e}async function P0(a){const e=bc(a),s=(await Xd()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function Sc(a,e){const i=bc(a),o=(await Xd()).transaction(_a,"readwrite"),h=o.objectStore(_a),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&L0(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(a){let e;const i=await Sc(a.appConfig,s=>{const o=hw(s),h=fw(a,o);return e=h.registrationPromise,h.installationEntry});return i.fid===cd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function hw(a){const e=a||{fid:rw(),registrationStatus:0};return k0(e)}function fw(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ya.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=dw(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:mw(a)}:{installationEntry:e}}async function dw(a,e){try{const i=await ew(a,e);return oc(a.appConfig,i)}catch(i){throw D0(i)&&i.customData.serverCode===409?await P0(a.appConfig):await oc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function mw(a){let e=await D_(a.appConfig);for(;e.registrationStatus===1;)await M0(100),e=await D_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Zd(a);return s||i}return e}function D_(a){return Sc(a,e=>{if(!e)throw ya.create("installation-not-found");return k0(e)})}function k0(a){return gw(a)?{fid:a.fid,registrationStatus:0}:a}function gw(a){return a.registrationStatus===1&&a.registrationTime+w0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw({appConfig:a,heartbeatServiceProvider:e},i){const s=yw(a,i),o=J2(a,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:R0,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},p=await x0(()=>fetch(s,g));if(p.ok){const v=await p.json();return V0(v)}else throw await N0("Generate Auth Token",p)}function yw(a,{fid:e}){return`${I0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(a,e=!1){let i;const s=await Sc(a.appConfig,h=>{if(!B0(h))throw ya.create("not-registered");const d=h.authToken;if(!e&&Ew(d))return h;if(d.requestStatus===1)return i=_w(a,e),h;{if(!navigator.onLine)throw ya.create("app-offline");const g=Aw(h);return i=vw(a,g),g}});return i?await i:s.authToken}async function _w(a,e){let i=await I_(a.appConfig);for(;i.authToken.requestStatus===1;)await M0(100),i=await I_(a.appConfig);const s=i.authToken;return s.requestStatus===0?$d(a,e):s}function I_(a){return Sc(a,e=>{if(!B0(e))throw ya.create("not-registered");const i=e.authToken;return bw(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vw(a,e){try{const i=await pw(a,e),s=Object.assign(Object.assign({},e),{authToken:i});return await oc(a.appConfig,s),i}catch(i){if(D0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await P0(a.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await oc(a.appConfig,s)}throw i}}function B0(a){return a!==void 0&&a.registrationStatus===2}function Ew(a){return a.requestStatus===2&&!Tw(a)}function Tw(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+K2}function Aw(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function bw(a){return a.requestStatus===1&&a.requestTime+w0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(a){const e=a,{installationEntry:i,registrationPromise:s}=await Zd(e);return s?s.catch(console.error):$d(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(a,e=!1){const i=a;return await Rw(i),(await $d(i,e)).token}async function Rw(a){const{registrationPromise:e}=await Zd(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(a){if(!a||!a.options)throw jf("App Configuration");if(!a.name)throw jf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw jf(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function jf(a){return ya.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="installations",Dw="installations-internal",Iw=a=>{const e=a.getProvider("app").getImmediate(),i=Cw(e),s=pd(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Vw=a=>{const e=a.getProvider("app").getImmediate(),i=pd(e,j0).getImmediate();return{getId:()=>Sw(i),getToken:o=>ww(i,o)}};function Nw(){vr(new Mi(j0,Iw,"PUBLIC")),vr(new Mi(Dw,Vw,"PRIVATE"))}Nw();ti(S0,Kd);ti(S0,Kd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="analytics",Ow="firebase_id",xw="origin",Mw=60*1e3,Uw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new md("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new cc("analytics","Analytics",Lw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(a){if(!a.startsWith(Jd)){const e=Dn.create("invalid-gtag-resource",{gtagURL:a});return nn.warn(e.message),""}return a}function q0(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function Pw(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function kw(a,e){const i=Pw("firebase-js-sdk-policy",{createScriptURL:zw}),s=document.createElement("script"),o=`${Jd}?l=${a}&id=${e}`;s.src=i?i?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function Bw(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function jw(a,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const p=(await q0(i)).find(v=>v.measurementId===o);p&&await e[p.appId]}}catch(g){nn.error(g)}a("config",o,h)}async function qw(a,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await q0(i);for(const p of d){const v=g.find(C=>C.measurementId===p),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),a("event",s,o||{})}catch(h){nn.error(h)}}function Hw(a,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,p]=d;await qw(a,e,i,g,p)}else if(h==="config"){const[g,p]=d;await jw(a,e,i,s,g,p)}else if(h==="consent"){const[g,p]=d;a("consent",g,p)}else if(h==="get"){const[g,p,v]=d;a("get",g,p,v)}else if(h==="set"){const[g]=d;a("set",g)}else a(h,...d)}catch(g){nn.error(g)}}return o}function Gw(a,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=Hw(h,a,e,i),{gtagCore:h,wrappedGtag:window[o]}}function Fw(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Jd)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=30,Yw=1e3;class Kw{constructor(e={},i=Yw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const H0=new Kw;function Xw(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function Zw(a){var e;const{appId:i,apiKey:s}=a,o={method:"GET",headers:Xw(s)},h=Uw.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(g=p.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function $w(a,e=H0,i){const{appId:s,apiKey:o,measurementId:h}=a.options;if(!s)throw Dn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw Dn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new tR;return setTimeout(async()=>{g.abort()},Mw),G0({appId:s,apiKey:o,measurementId:h},d,g,e)}async function G0(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=H0){var h;const{appId:d,measurementId:g}=a;try{await Jw(s,e)}catch(p){if(g)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:d,measurementId:g};throw p}try{const p=await Zw(a);return o.deleteThrottleMetadata(d),p}catch(p){const v=p;if(!Ww(v)){if(o.deleteThrottleMetadata(d),g)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:d,measurementId:g};throw p}const A=Number((h=v?.customData)===null||h===void 0?void 0:h.httpStatus)===503?by(i,o.intervalMillis,Qw):by(i,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,C),nn.debug(`Calling attemptFetch again in ${A} millis`),G0(a,C,s,o)}}function Jw(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(h),s(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ww(a){if(!(a instanceof Cr)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class tR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eR(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(){if(j_())try{await q_()}catch(a){return nn.warn(Dn.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return nn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iR(a,e,i,s,o,h,d){var g;const p=$w(a);p.then(q=>{i[q.measurementId]=q.appId,a.options.measurementId&&q.measurementId!==a.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q=>nn.error(q)),e.push(p);const v=nR().then(q=>{if(q)return s.getId()}),[A,C]=await Promise.all([p,v]);Fw(h)||kw(h,A.measurementId),o("js",new Date);const V=(g=d?.config)!==null&&g!==void 0?g:{};return V[xw]="firebase",V.update=!0,C!=null&&(V[Ow]=C),o("config",A.measurementId,V),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.app=e}_delete(){return delete Xl[this.app.options.appId],Promise.resolve()}}let Xl={},N_=[];const O_={};let qf="dataLayer",aR="gtag",x_,F0,M_=!1;function sR(){const a=[];if(s1()&&a.push("This is a browser extension environment."),o1()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=Dn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function lR(a,e,i){sR();const s=a.options.appId;if(!s)throw Dn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(Xl[s]!=null)throw Dn.create("already-exists",{id:s});if(!M_){Bw(qf);const{wrappedGtag:h,gtagCore:d}=Gw(Xl,N_,O_,qf,aR);F0=h,x_=d,M_=!0}return Xl[s]=iR(a,N_,O_,e,x_,qf,i),new rR(a)}function oR(a,e,i,s){a=Zl(a),eR(F0,Xl[a.app.options.appId],e,i,s).catch(o=>nn.error(o))}const U_="@firebase/analytics",L_="0.10.17";function uR(){vr(new Mi(V_,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return lR(s,o,i)},"PUBLIC")),vr(new Mi("analytics-internal",a,"PRIVATE")),ti(U_,L_),ti(U_,L_,"esm2017");function a(e){try{const i=e.getProvider(V_).getImmediate();return{logEvent:(s,o,h)=>oR(i,s,o,h)}}catch(i){throw Dn.create("interop-component-reg-failed",{reason:i})}}}uR();const cR={apiKey:"AIzaSyA0F9MlLg9H36F2FCiclvRDGSrLMV9_f8c",authDomain:"dra-invoice.firebaseapp.com",projectId:"dra-invoice",storageBucket:"dra-invoice.firebasestorage.app",messagingSenderId:"818739283601",appId:"1:818739283601:web:81bf9d917ba9feba76a130",measurementId:"G-Q6S6EQRF86"},hR=Q_(cR),Q0=R2(hR),fR=async a=>{const e=d0(Q0,"invoices","temp");await q2(e,a),alert("Invoice saved to Firebase!")},dR=()=>{const[a,e]=mr.useState({invoiceNumber:"",date:new Date().toISOString().split("T")[0],clientName:"",clientAddress:"",note:"If any work is extended on site, the additional amount will be added during the final completion and may be collected before the site is handed over.",items:[{sno:1,name:"",quantity:1,price:0,total:0}]});mr.useEffect(()=>{(async()=>{const v=d0(Q0,"invoices","temp"),A=await B2(v);console.log(A.data()),A.exists()&&e(A.data())})()},[]);const i=p=>{const v=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],A=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],C=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(p===0)return"Zero";const V=Z=>{let it="";if(Z>=100&&(it+=v[Math.floor(Z/100)]+" Hundred ",Z%=100),Z>=20)it+=C[Math.floor(Z/10)]+" ",Z%=10;else if(Z>=10)return it+=A[Z-10]+" ",it;return Z>0&&(it+=v[Z]+" "),it};let q="";return p>=1e7&&(q+=V(Math.floor(p/1e7))+"Crore ",p%=1e7),p>=1e5&&(q+=V(Math.floor(p/1e5))+"Lakh ",p%=1e5),p>=1e3&&(q+=V(Math.floor(p/1e3))+"Thousand ",p%=1e3),p>0&&(q+=V(p)),q.trim()},s=(p,v,A)=>{const C=[...a.items];C[p][v]=A,(v==="quantity"||v==="price")&&(C[p].total=C[p].quantity*C[p].price),e({...a,items:C})},o=()=>{const p={sno:a.items.length+1,name:"",quantity:1,price:0,total:0};e({...a,items:[...a.items,p]})},h=p=>{const A=a.items.filter((C,V)=>V!==p).map((C,V)=>({...C,sno:V+1}));e({...a,items:A})},d=()=>a.items.reduce((p,v)=>p+v.total,0),g=()=>{const p=d(),v=i(Math.floor(p)),A=`
      <html>
        <head>
          <title>Invoice - ${a.invoiceNumber}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #DAA520; padding-bottom: 20px; }
            .logo { width: 25px; height: 20px; margin: 0 auto 10px; }
            .company-name { font-size: 24px; font-weight: bold; color: #DAA520; margin: 10px 0; }
            .company-tagline { font-size: 14px; color: #666; }
            .invoice-details { display: flex; justify-content: space-between; margin-bottom: 30px; }
            .client-info, .invoice-info { flex: 1; }
            .invoice-info { text-align: right; }
            table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
            th { background-color: #DAA520; color: white; font-weight: bold; }
            .number { text-align: right; }
            .total-row { background-color: #f9f9f9; font-weight: bold; }
            .total-section { margin-top: 20px; text-align: right; }
            .grand-total { font-size: 18px; font-weight: bold; color: #DAA520; }
            .amount-words { margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-left: 4px solid #DAA520; }
            .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
           <div className="w-25 h-20 mx-auto mb-4 bg-slate-600 rounded-lg flex items-center justify-center">
					<img src="https://res.cloudinary.com/dvstorage/image/upload/v1751884378/1000168781-removebg-preview_xjquev.png" className="logo" alt="Dynamic Range Architects logo" style="width: 80px; height: 60px;"/>
			</div>
            <div class="company-name">DYNAMIC RANGE ARCHITECTS</div>
            <div class="company-tagline">Professional Architectural Services</div>
          </div>
          
          <div class="invoice-details">
            <div class="client-info">
              <h3>Bill To:</h3>
              <strong>${a.clientName}</strong><br>
              ${a.clientAddress.replace(/\n/g,"<br>")}
            </div>
            <div class="invoice-info">
              <h3>Invoice Details:</h3>
              <strong>Invoice #:</strong> ${a.invoiceNumber}<br>
              <strong>Date:</strong> ${new Date(a.date).toLocaleDateString()}
            </div>
          </div>
          
          <table>
            <thead>
              <tr>
                <th style="width: 8%;">S.No</th>
                <th style="width: 50%;">Description</th>
                <th style="width: 12%;">Quantity</th>
                <th style="width: 15%;">Price</th>
                <th style="width: 15%;">Total</th>
              </tr>
            </thead>
            <tbody>
              ${a.items.map(V=>`
                <tr>
                  <td class="number">${V.sno}</td>
                  <td>${V.name}</td>
                  <td class="number">${V.quantity}</td>
                  <td class="number">₹${V.price.toFixed(2)}</td>
                  <td class="number">₹${V.total.toFixed(2)}</td>
                </tr>
              `).join("")}
              <tr class="total-row">
                <td colspan="4" style="text-align: right; font-weight: bold;">Grand Total:</td>
                <td class="number grand-total">₹${p.toFixed(2)}</td>
              </tr>
            </tbody>
          </table>
          
          <div class="amount-words">
            <strong>Amount in Words:</strong> ${v} Rupees Only
          </div>

		  <div style="margin-top: 30px; font-style: italic; color: #333; font-size: 14px;">
 		  ⚠️ <strong>Note:</strong> ${a.note}
		  </div>

		<div style="margin-top: 60px; display: flex; justify-content: space-between;">
		<div style="text-align: center;">
			<div style="border-top: 1px solid #999; width: 200px; margin: 0 auto; padding-top: 8px;">
			Architect Signature
			</div>
		</div>
		<div style="text-align: center;">
			<div style="border-top: 1px solid #999; width: 200px; margin: 0 auto; padding-top: 8px;">
			Client Signature
			</div>
		</div>
		</div>
          
          <div class="footer">
            <p>Thank you for your business!</p>
            <p>Dynamic Range Architects - Building Dreams, Designing Futures</p>
          </div>
        </body>
      </html>
    `,C=window.open("","_blank");C.document.write(A),C.document.close(),C.print()};return tt.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white",children:[tt.jsxs("div",{className:"text-center mb-8 border-b-2 border-yellow-600 pb-6",children:[tt.jsx("div",{className:"w-25 h-20 mx-auto mb-4 bg-slate-600 rounded-lg flex items-center justify-center",children:tt.jsx("img",{src:BT,className:"logo",alt:"Dynamic Range Architects logo"})}),tt.jsx("h1",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"DYNAMIC RANGE ARCHITECTS"}),tt.jsx("p",{className:"text-gray-600",children:"Professional Architectural Services"})]}),tt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[tt.jsxs("div",{children:[tt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Invoice Details"}),tt.jsxs("div",{className:"space-y-4",children:[tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Number"}),tt.jsx("input",{type:"text",value:a.invoiceNumber,onChange:p=>e({...a,invoiceNumber:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"INV-001"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),tt.jsx("input",{type:"date",value:a.date,onChange:p=>e({...a,date:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]})]}),tt.jsxs("div",{children:[tt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Client Information"}),tt.jsxs("div",{className:"space-y-4",children:[tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),tt.jsx("input",{type:"text",value:a.clientName,onChange:p=>e({...a,clientName:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Client Name"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Address"}),tt.jsx("textarea",{value:a.clientAddress,onChange:p=>e({...a,clientAddress:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:"3",placeholder:"Client Address"})]})]})]})]}),tt.jsxs("div",{className:"mb-8",children:[tt.jsxs("div",{className:"flex justify-between items-center mb-4",children:[tt.jsx("h2",{className:"text-xl font-semibold",children:"Invoice Items"}),tt.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 transition-colors",children:[tt.jsx(zT,{size:16}),"Add Item"]})]}),tt.jsx("div",{className:"overflow-x-auto",children:tt.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[tt.jsx("thead",{children:tt.jsxs("tr",{className:"bg-yellow-600 text-white",children:[tt.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"S.No"}),tt.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"Description"}),tt.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"Quantity"}),tt.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"Price (₹)"}),tt.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"Total (₹)"}),tt.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"Action"})]})}),tt.jsx("tbody",{children:a.items.map((p,v)=>tt.jsxs("tr",{className:"hover:bg-gray-50",children:[tt.jsx("td",{className:"border border-gray-300 p-3 text-center",children:p.sno}),tt.jsx("td",{className:"border border-gray-300 p-3",children:tt.jsx("input",{type:"text",value:p.name,onChange:A=>s(v,"name",A.target.value),className:"w-full p-1 border border-gray-200 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Item description"})}),tt.jsx("td",{className:"border border-gray-300 p-3",children:tt.jsx("input",{type:"number",value:p.quantity,onChange:A=>s(v,"quantity",parseInt(A.target.value)||0),className:"w-full p-1 border border-gray-200 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"1"})}),tt.jsx("td",{className:"border border-gray-300 p-3",children:tt.jsx("input",{type:"number",value:p.price,onChange:A=>s(v,"price",parseFloat(A.target.value)||0),className:"w-full p-1 border border-gray-200 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",step:"0.01"})}),tt.jsxs("td",{className:"border border-gray-300 p-3 text-right font-medium",children:["₹",p.total.toFixed(2)]}),tt.jsx("td",{className:"border border-gray-300 p-3 text-center",children:a.items.length>1&&tt.jsx("button",{onClick:()=>h(v),className:"text-red-600 hover:text-red-800 transition-colors",children:tt.jsx(kT,{size:16})})})]},v))})]})})]}),tt.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-8 space-y-4",children:[tt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[tt.jsx("span",{className:"text-xl font-semibold",children:"Grand Total:"}),tt.jsxs("span",{className:"text-2xl font-bold text-yellow-600",children:["₹",d().toFixed(2)]})]}),tt.jsxs("div",{className:"text-sm text-gray-600",children:[tt.jsx("strong",{children:"Amount in Words:"})," ",i(Math.floor(d()))," Rupees Only"]}),tt.jsxs("div",{className:"text-sm text-gray-700 italic mt-4",children:["⚠️ ",tt.jsx("strong",{children:"Note:"}),a.note]}),tt.jsxs("div",{className:"mb-8",children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note (Optional)"}),tt.jsx("textarea",{value:a.note,onChange:p=>e({...a,note:p.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:"3",placeholder:"e.g. Additional charges may apply for extended work on site."})]}),tt.jsxs("div",{className:"flex justify-between items-center pt-8",children:[tt.jsx("div",{className:"text-center",children:tt.jsx("p",{className:"text-sm text-gray-700 border-t border-gray-400 pt-2 w-48 mx-auto",children:"Architect Signature"})}),tt.jsx("div",{className:"text-center",children:tt.jsx("p",{className:"text-sm text-gray-700 border-t border-gray-400 pt-2 w-48 mx-auto",children:"Client Signature"})})]})]}),tt.jsx("div",{className:"text-center",children:tt.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors mx-auto",children:[tt.jsx(xT,{size:20}),"Generate PDF Invoice"]})}),tt.jsx("div",{className:"text-center mt-4",children:tt.jsxs("button",{onClick:async()=>await fR(a),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors mx-auto",children:[tt.jsx(UT,{size:20}),"Save Invoice Data"]})})]})};function mR(){return tt.jsx(tt.Fragment,{children:tt.jsx(dR,{})})}RT.createRoot(document.getElementById("root")).render(tt.jsx(mr.StrictMode,{children:tt.jsx(mR,{})}));
